# 决策：五因子用嵌套结构而非平行加权

**日期：** 2026-03-01
**模块：** 量化宽基超额环境（`env_fit/quant_stock/`）

---

## 决策内容
量化超额环境的5个因子采用**嵌套层级**结构，而非传统的平行加权打分。

## 备选方案
1. ~~平行加权~~ — 5因子各打分，加权平均 → 被否决
2. ✅ 嵌套层级 — 流动性→离散度×集中度→基差→微观

## 为什么选嵌套
**Roni的逻辑：**
- 因子之间不是独立的，有前提条件关系
- 流动性不够时，离散度再高也没用（你选到了alpha股但买不进去）
- 离散度和集中度必须交叉看，不能分开打分
- 平行加权会掩盖"一票否决"型风险

**类比：** 就像体检，不是每项指标平均分高就健康。血压200，其他再好也得住院。

## 影响
- `quant_stock_data.py` 的计算逻辑按嵌套设计
- 前端展示不是简单的总分，而是层级判断树
- 设计文档：`README_design.md`

## 关联
- [[2026-03-01_量化超额五因子框架]]
- [[离散度]]
- [[风格集中度]]

**标签：** #决策 #量化 #架构选择
