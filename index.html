<!DOCTYPE html>
<html lang="zh"><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
<meta name="theme-color" content="#2563eb">
<meta name="apple-mobile-web-app-capable" content="yes">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4/dist/chart.umd.min.js"></script>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="GAMT">
<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="icon-192.png">
<title>GAMT æŠ•ç ”çœ‹æ¿</title>
<script>if(window.self!==window.top){document.documentElement.innerHTML='';window.stop()}</script>
<style>
*{box-sizing:border-box;margin:0;padding:0}
:root{
  --sidebar-w:210px;
  --header-h:52px;
  --bg:#f5f6f8;
  --sidebar-bg:#1e2433;
  --sidebar-text:#7c8598;
  --accent:#2563eb;
  --accent-light:rgba(37,99,235,0.08);
  --accent-glow:rgba(37,99,235,0.18);
  --card-bg:#fff;
  --text:#2d3142;
  --text-sub:#8b92a5;
  --border:#e8eaef;
}
body{font-family:-apple-system,'PingFang SC','Helvetica Neue','Microsoft YaHei',sans-serif;background:var(--bg);color:var(--text);display:flex;min-height:100vh;font-size:14px}

/* â”€â”€ ä¾§è¾¹æ  â”€â”€ */
.sidebar{width:var(--sidebar-w);background:var(--sidebar-bg);display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;z-index:20}
.sidebar .logo{padding:18px 20px;font-size:15px;font-weight:700;color:#e2e6ed;letter-spacing:.5px;border-bottom:1px solid rgba(255,255,255,0.05)}
.sidebar .logo em{font-style:normal;color:var(--accent);font-weight:800}
.sidebar nav{flex:1;padding:12px 0;overflow-y:auto}
.nav-group{margin-bottom:4px}
.nav-group-title{padding:8px 20px 4px;font-size:10px;text-transform:uppercase;letter-spacing:1.5px;color:rgba(255,255,255,0.2);font-weight:700}
.nav-item{display:flex;align-items:center;gap:9px;padding:9px 20px;cursor:pointer;transition:all .12s;font-size:13px;border-left:2px solid transparent;color:var(--sidebar-text)}
.nav-item:hover{background:rgba(255,255,255,0.04);color:#b8bfce}
.nav-item.active{color:#e2e6ed;background:var(--accent-light);border-left-color:var(--accent)}
.nav-item .icon{font-size:15px;width:18px;text-align:center;filter:grayscale(.3)}
.nav-item .badge{margin-left:auto;background:var(--accent);color:#fff;font-size:9px;padding:1px 6px;border-radius:6px;font-weight:700}
.user-info{padding:14px 20px;border-top:1px solid rgba(255,255,255,0.05);font-size:11px;color:rgba(255,255,255,0.25);line-height:1.5}

/* â”€â”€ ä¸»åŒºåŸŸ â”€â”€ */
.main{margin-left:var(--sidebar-w);flex:1;display:flex;flex-direction:column;min-height:100vh}
.header{height:var(--header-h);background:var(--card-bg);display:flex;align-items:center;justify-content:space-between;padding:0 24px;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:10}
.header .title{font-size:15px;font-weight:600;color:var(--text)}
.header .meta{display:flex;align-items:center;gap:14px;font-size:12px;color:var(--text-sub)}
.refresh-btn{padding:5px 12px;border:1px solid var(--border);border-radius:6px;background:#fff;color:var(--text-sub);font-size:11px;cursor:pointer;transition:all .15s}
.refresh-btn:hover{background:var(--accent);color:#fff;border-color:var(--accent)}
.content{flex:1;padding:20px 24px}

/* â”€â”€ æ¨¡å—é¡µ â”€â”€ */
.module-page{display:none}.module-page.active{display:block}

/* â”€â”€ å¡ç‰‡ â”€â”€ */
.card{background:var(--card-bg);border-radius:10px;padding:18px;margin-bottom:16px;border:1px solid var(--border)}
.card-title{font-size:13px;font-weight:600;margin-bottom:10px;display:flex;align-items:center;gap:7px;color:var(--text)}
.card-title .dot{width:7px;height:7px;border-radius:50%;display:inline-block}

/* â”€â”€ æ€»è§ˆå¡ç‰‡ â”€â”€ */
.overview-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:14px;margin-bottom:16px}
.ov-card{background:var(--card-bg);border-radius:10px;padding:16px 18px;border:1px solid var(--border);border-left:3px solid var(--border)}
.ov-card.blue{border-left-color:var(--accent)}.ov-card.green{border-left-color:#10b981}.ov-card.amber{border-left-color:#f59e0b}.ov-card.slate{border-left-color:#64748b}
.ov-label{font-size:11px;color:var(--text-sub);margin-bottom:3px}.ov-value{font-size:20px;font-weight:700;color:var(--text)}.ov-sub{font-size:11px;color:var(--text-sub);margin-top:3px}
.ov-tag{display:inline-block;padding:1px 7px;border-radius:3px;font-size:10px;font-weight:700;margin-top:5px}
.ov-tag.on{background:#dbeafe;color:#2563eb}.ov-tag.off{background:#dcfce7;color:#16a34a}.ov-tag.warn{background:#fef3c7;color:#d97706}

/* â”€â”€ è¡¨æ ¼ â”€â”€ */
.s-table{width:100%;border-collapse:collapse;font-size:12px}
.s-table th{text-align:left;padding:8px 10px;background:#f8f9fb;color:var(--text-sub);font-weight:600;font-size:11px;border-bottom:1px solid var(--border)}
.s-table td{padding:8px 10px;border-bottom:1px solid #f3f4f6}
.s-table tr:hover td{background:#fafbfc}
.tag{display:inline-block;padding:1px 7px;border-radius:3px;font-size:10px;font-weight:600}
.tag-green{background:#dcfce7;color:#16a34a}.tag-amber{background:#fef3c7;color:#d97706}.tag-slate{background:#f1f5f9;color:#64748b}

/* â”€â”€ iframe â”€â”€ */
.embed-frame{width:100%;border:none;border-radius:10px;background:var(--card-bg)}

/* â”€â”€ ç­–ç•¥ tab â”€â”€ */
.strat-tabs{display:flex;gap:6px;margin-bottom:16px;flex-wrap:wrap}
.strat-tab{padding:7px 14px;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;background:var(--card-bg);border:1px solid var(--border);transition:all .12s;color:var(--text-sub)}
.strat-tab:hover{color:var(--text);border-color:#cbd5e1}
.strat-tab.active{background:var(--accent);color:#fff;border-color:var(--accent)}
.strat-page{display:none}.strat-page.active{display:block}

/* â”€â”€ é£æ ¼è½§å·®ç»Ÿè®¡å¡ç‰‡ â”€â”€ */
.ss-desc{text-align:center;color:var(--text-sub);font-size:13px;margin:4px 0 14px}
.ss-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(130px,1fr));gap:10px;margin-bottom:16px}
.ss-stat{background:var(--card-bg);padding:12px 14px;border-radius:10px;border:1px solid var(--border);text-align:center}
.ss-stat .ss-label{color:var(--text-sub);font-size:11px;margin-bottom:3px}
.ss-stat .ss-val{font-size:18px;font-weight:700}
.ss-val.pos{color:#ef4444}.ss-val.neg{color:#10b981}
.ss-chart-box{position:relative;height:290px}
.ss-extra-info{font-size:12px;color:var(--text-sub);line-height:1.8;margin:12px 0}
.ss-extra-info b{color:var(--text)}

/* â”€â”€ æ±‰å ¡èœå•æŒ‰é’® â”€â”€ */
.menu-toggle{display:none;position:fixed;top:10px;left:10px;z-index:30;background:var(--sidebar-bg);color:#e2e6ed;border:none;border-radius:8px;width:38px;height:38px;font-size:20px;cursor:pointer;align-items:center;justify-content:center;box-shadow:0 2px 8px rgba(0,0,0,0.15)}
.sidebar-overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.4);z-index:15}
.sidebar-overlay.open{display:block}

/* â”€â”€ å“åº”å¼ â”€â”€ */
@media(max-width:768px){
  .menu-toggle{display:flex}
  .sidebar{transform:translateX(-100%);transition:transform .25s ease;z-index:20}
  .sidebar.open{transform:translateX(0)}
  .main{margin-left:0}
  .header{padding:0 12px 0 54px}
  .header .title{font-size:13px}
  .header .meta{gap:8px}
  .refresh-btn{font-size:10px;padding:4px 8px}
  .overview-grid{grid-template-columns:1fr}
  .ov-card .ov-value{font-size:20px}
  .strat-tabs{flex-wrap:nowrap;overflow-x:auto;-webkit-overflow-scrolling:touch;gap:4px;padding-bottom:4px;margin-bottom:0}
  .strat-tab{white-space:nowrap;flex-shrink:0;padding:6px 10px;font-size:11px}
  .content{padding:12px}
  .card{padding:12px}
  .embed-frame{height:calc(100vh - 140px)!important}
  .ss-stats{grid-template-columns:repeat(2,1fr)}
  .ss-chart-box{height:220px}
  #strat-convertible .card canvas{height:180px!important}
  #refreshBtn{font-size:10px!important;padding:4px 10px!important}
}







/* â”€â”€ é£æ ¼è½§å·®å†…åµŒ â”€â”€ */
.ss-stats{display:flex;gap:12px;margin:14px 0;flex-wrap:wrap}
.ss-stat{background:var(--card-bg);padding:12px 18px;border-radius:8px;border:1px solid var(--border);min-width:120px;text-align:center}
.ss-stat .ss-label{font-size:11px;color:var(--text-sub);margin-bottom:3px}
.ss-stat .ss-val{font-size:20px;font-weight:700}
.ss-stat .ss-val.pos{color:#e74c3c}.ss-stat .ss-val.neg{color:#27ae60}
.ss-desc{text-align:center;color:var(--text-sub);font-size:12px;margin:6px 0 14px}
.ss-chart-wrap{background:var(--card-bg);border-radius:10px;padding:16px;margin-bottom:14px;border:1px solid var(--border);position:relative;height:300px}
.ss-chart-wrap canvas{position:absolute;left:16px;top:16px;right:16px;bottom:16px}
.ss-chart-wrap.short{height:220px}
.ss-extra-info{background:var(--card-bg);border-radius:10px;padding:14px 18px;margin-bottom:14px;border:1px solid var(--border);font-size:11px;color:var(--text-sub);line-height:1.7}
.ss-extra-info strong{color:var(--text);font-weight:600}
.ss-footer{background:var(--card-bg);border-radius:10px;padding:16px 20px;margin-top:8px;border:1px solid var(--border);font-size:11px;color:var(--text-sub);line-height:1.8}
.ss-footer p{margin:2px 0}
.ss-footer .ft-title{font-size:12px;color:var(--text);font-weight:600;margin-bottom:6px}
.ss-footer b{color:var(--text);font-weight:600}

/* â”€â”€ ç™»å½•é®ç½©ï¼ˆç§‘æŠ€é£ï¼‰ â”€â”€ */
.login-overlay{position:fixed;inset:0;background:#0a0e1a;z-index:9999;display:flex;align-items:center;justify-content:center;transition:opacity .4s;overflow:hidden}
.login-overlay.hidden{opacity:0;pointer-events:none}
.login-overlay canvas{position:absolute;inset:0;z-index:0}
.login-overlay::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 30% 20%,rgba(37,99,235,.12) 0%,transparent 60%),radial-gradient(ellipse at 70% 80%,rgba(16,185,129,.08) 0%,transparent 60%);z-index:1}
.login-box{position:relative;z-index:2;background:rgba(15,20,35,.85);backdrop-filter:blur(24px) saturate(1.4);border:1px solid rgba(255,255,255,.08);border-radius:20px;padding:44px 38px;width:400px;max-width:90vw;box-shadow:0 0 80px rgba(37,99,235,.12),0 0 0 1px rgba(255,255,255,.05) inset}
.login-box .brand{text-align:center;margin-bottom:8px}
.login-box .brand-logo{font-size:36px;font-weight:800;letter-spacing:6px;background:linear-gradient(135deg,#60a5fa 0%,#34d399 50%,#a78bfa 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.login-box .brand-full{font-size:10px;letter-spacing:3px;text-transform:uppercase;color:rgba(255,255,255,.35);margin-top:4px;font-weight:500}
.login-box .subtitle{font-size:12px;color:rgba(255,255,255,.3);text-align:center;margin-bottom:30px}
.login-box .glow-line{width:60px;height:2px;margin:14px auto 20px;background:linear-gradient(90deg,transparent,#2563eb,#10b981,transparent);border-radius:2px}
.login-box label{font-size:11px;font-weight:600;color:rgba(255,255,255,.4);display:block;margin-bottom:5px;letter-spacing:.5px;text-transform:uppercase}
.login-box input{width:100%;padding:11px 16px;border:1px solid rgba(255,255,255,.1);border-radius:10px;font-size:14px;margin-bottom:16px;outline:none;transition:all .2s;background:rgba(255,255,255,.04);color:#e2e8f0;font-family:inherit}
.login-box input::placeholder{color:rgba(255,255,255,.2)}
.login-box input:focus{border-color:rgba(37,99,235,.6);background:rgba(37,99,235,.06);box-shadow:0 0 20px rgba(37,99,235,.1)}
.login-box .btn{width:100%;padding:12px;border:none;border-radius:10px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;font-family:inherit;letter-spacing:1px}
.login-box .btn-primary{background:linear-gradient(135deg,#2563eb,#3b82f6);color:#fff;box-shadow:0 4px 20px rgba(37,99,235,.3)}
.login-box .btn-primary:hover{box-shadow:0 6px 30px rgba(37,99,235,.5);transform:translateY(-1px)}
.login-box .btn-primary:active{transform:translateY(0)}
.login-box .err{color:#f87171;font-size:12px;text-align:center;margin-bottom:10px;min-height:18px}
.login-box .tabs{display:flex;margin-bottom:26px;border-bottom:1px solid rgba(255,255,255,.08);gap:0}
.login-box .tab{flex:1;text-align:center;padding:10px;font-size:12px;font-weight:600;color:rgba(255,255,255,.3);cursor:pointer;border-bottom:2px solid transparent;margin-bottom:-1px;transition:all .2s;letter-spacing:1px}
.login-box .tab:hover{color:rgba(255,255,255,.5)}
.login-box .tab.active{color:#60a5fa;border-bottom-color:#2563eb}
.login-ver{position:absolute;bottom:16px;left:0;right:0;text-align:center;font-size:10px;color:rgba(255,255,255,.12);letter-spacing:1px;z-index:2}
@keyframes float-p{0%,100%{transform:translateY(0) scale(1);opacity:.3}50%{transform:translateY(-20px) scale(1.1);opacity:.6}}
.particle{position:absolute;border-radius:50%;background:rgba(96,165,250,.3);animation:float-p 4s ease-in-out infinite;z-index:1}
.user-bar{position:absolute;right:18px;top:50%;transform:translateY(-50%);display:flex;align-items:center;gap:10px;font-size:12px;color:var(--text-sub)}
.user-bar .avatar{width:28px;height:28px;border-radius:50%;background:linear-gradient(135deg,#2563eb,#10b981);color:#fff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700}
.user-bar .logout-btn{padding:4px 10px;border:1px solid var(--border);border-radius:5px;background:#fff;cursor:pointer;font-size:11px;color:var(--text-sub)}
.user-bar .logout-btn:hover{background:#fee2e2;color:#ef4444;border-color:#fca5a5}
.user-bar .admin-btn{padding:4px 10px;border:1px solid var(--border);border-radius:5px;background:#fff;cursor:pointer;font-size:11px;color:var(--accent)}
.user-bar .admin-btn:hover{background:var(--accent-light)}
</style>
</head><body>

<!-- â•â•â• ç™»å½•é®ç½© â•â•â• -->
<div class="login-overlay" id="loginOverlay">
  <canvas id="bgCanvas"></canvas>
  <div class="particle" style="width:4px;height:4px;top:15%;left:20%;animation-delay:0s;animation-duration:5s"></div>
  <div class="particle" style="width:3px;height:3px;top:40%;left:75%;animation-delay:1s;animation-duration:4s"></div>
  <div class="particle" style="width:5px;height:5px;top:70%;left:30%;animation-delay:2s;animation-duration:6s"></div>
  <div class="particle" style="width:3px;height:3px;top:25%;left:60%;animation-delay:.5s;animation-duration:3.5s"></div>
  <div class="particle" style="width:4px;height:4px;top:80%;left:80%;animation-delay:1.5s;animation-duration:5.5s"></div>
  <div class="particle" style="width:2px;height:2px;top:55%;left:15%;animation-delay:3s;animation-duration:4.5s"></div>
  <div class="particle" style="width:6px;height:6px;top:10%;left:85%;animation-delay:2.5s;animation-duration:7s;background:rgba(52,211,153,.2)"></div>
  <div class="particle" style="width:3px;height:3px;top:90%;left:50%;animation-delay:1.8s;animation-duration:4.2s;background:rgba(167,139,250,.25)"></div>

  <div class="login-box">
    <div class="brand">
      <div class="brand-logo">GAMT</div>
      <div class="brand-full">General Asset Management Team</div>
    </div>
    <div class="glow-line"></div>
    <p class="subtitle">æŠ•ç ”çœ‹æ¿ Â· Research Dashboard</p>
    <div class="tabs">
      <div class="tab active" onclick="switchAuthTab('login')">LOGIN</div>
      <div class="tab" onclick="switchAuthTab('register')">REGISTER</div>
    </div>
    <div class="err" id="authErr"></div>
    <div id="loginForm">
      <label>Username</label>
      <input type="text" id="loginUser" placeholder="è¾“å…¥ç”¨æˆ·å" autocomplete="username" spellcheck="false">
      <label>Password</label>
      <input type="password" id="loginPass" placeholder="è¾“å…¥å¯†ç " autocomplete="current-password">
      <button class="btn btn-primary" onclick="doLogin()">ACCESS DASHBOARD â†’</button>
    </div>
    <div id="registerForm" style="display:none">
      <label>Username</label>
      <input type="text" id="regUser" placeholder="2-30 å­—ç¬¦" autocomplete="username" spellcheck="false">
      <label>Display Name</label>
      <input type="text" id="regName" placeholder="ä½ çš„åå­—ï¼ˆé€‰å¡«ï¼‰">
      <label>Password</label>
      <input type="password" id="regPass" placeholder="è‡³å°‘ 6 ä½" autocomplete="new-password">
      <label>Confirm Password</label>
      <input type="password" id="regPass2" placeholder="å†è¾“ä¸€æ¬¡">
      <button class="btn btn-primary" onclick="doRegister()">CREATE ACCOUNT â†’</button>
    </div>
  </div>
  <div class="login-ver">GAMT SYSTEM v2.0</div>
</div>

<!-- â•â•â• èƒŒæ™¯ç½‘æ ¼åŠ¨ç”» â•â•â• -->
<script>
(function(){
  var cv=document.getElementById('bgCanvas');
  if(!cv)return;
  var ctx=cv.getContext('2d');
  var w,h,pts=[];
  function resize(){w=cv.width=window.innerWidth;h=cv.height=window.innerHeight;pts=[];for(var i=0;i<60;i++)pts.push({x:Math.random()*w,y:Math.random()*h,vx:(Math.random()-.5)*.4,vy:(Math.random()-.5)*.4,r:Math.random()*1.5+.5});}
  resize();window.addEventListener('resize',resize);
  function draw(){
    ctx.clearRect(0,0,w,h);
    // grid
    ctx.strokeStyle='rgba(37,99,235,.04)';ctx.lineWidth=.5;
    for(var x=0;x<w;x+=60){ctx.beginPath();ctx.moveTo(x,0);ctx.lineTo(x,h);ctx.stroke();}
    for(var y=0;y<h;y+=60){ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(w,y);ctx.stroke();}
    // nodes + connections
    for(var i=0;i<pts.length;i++){
      var p=pts[i];
      p.x+=p.vx;p.y+=p.vy;
      if(p.x<0||p.x>w)p.vx*=-1;
      if(p.y<0||p.y>h)p.vy*=-1;
      ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
      ctx.fillStyle='rgba(96,165,250,.35)';ctx.fill();
      for(var j=i+1;j<pts.length;j++){
        var q=pts[j],dx=p.x-q.x,dy=p.y-q.y,d=Math.sqrt(dx*dx+dy*dy);
        if(d<140){
          ctx.beginPath();ctx.moveTo(p.x,p.y);ctx.lineTo(q.x,q.y);
          ctx.strokeStyle='rgba(96,165,250,'+((.15)*(1-d/140))+')';ctx.lineWidth=.6;ctx.stroke();
        }
      }
    }
    requestAnimationFrame(draw);
  }
  draw();
})();
</script>

<!-- â•â•â• ç§»åŠ¨ç«¯èœå• â•â•â• -->
<button class="menu-toggle" id="menuToggle">â˜°</button>
<div class="sidebar-overlay" id="sidebarOverlay"></div>

<!-- â•â•â• ä¾§è¾¹æ  â•â•â• -->
<aside class="sidebar">
  <div class="logo">ğŸ“Š <em>GAMT</em> æŠ•ç ”çœ‹æ¿</div>
  <nav>
    <div class="nav-group">
      <div class="nav-group-title">æ€»è§ˆ</div>
      <div class="nav-item active" data-module="overview"><span class="icon">ğŸ </span> ä»ªè¡¨ç›˜</div>
    </div>
    <div class="nav-group">
      <div class="nav-group-title">åˆ†æ</div>
      <div class="nav-item" data-module="style-spread"><span class="icon">ğŸ“ˆ</span> é£æ ¼è½§å·®</div>
      <div class="nav-item" data-module="env-fit"><span class="icon">ğŸ¯</span> ç­–ç•¥ç¯å¢ƒé€‚é…åº¦</div>
      <div class="nav-item" data-module="fund-flow"><span class="icon">ğŸ’°</span> èµ„é‡‘æµä¸å¾®è§‚ç»“æ„</div>
      <div class="nav-item" data-module="macro"><span class="icon">ğŸŒ</span> å®è§‚ä¸æµåŠ¨æ€§</div>
      <div class="nav-item" data-module="meso"><span class="icon">ğŸ­</span> ä¸­è§‚æ™¯æ°”</div>
    </div>
    <div class="nav-group">
      <div class="nav-group-title">å·¥å…·</div>
      <div class="nav-item" data-module="alerts"><span class="icon">ğŸš¨</span> çº¢ç¯é¢„è­¦</div>
      <div class="nav-item" data-module="report" style="opacity:.35"><span class="icon">ğŸ“‹</span> æ¯æ—¥æŠ¥å‘Š</div>
    </div>
    <div class="nav-group" id="adminNavGroup" style="display:none">
      <div class="nav-group-title">è®¾ç½®</div>
      <div class="nav-item" onclick="location.href='admin.html'" style="cursor:pointer"><span class="icon">âš™ï¸</span> ç®¡ç†åå°</div>
    </div>
  </nav>
  <div class="user-info" id="sidebarUserInfo">æœªç™»å½•<br><span style="opacity:.5;font-size:11px">v0.3 Â· 2026-02-13</span></div>
</aside>

<!-- â•â•â• ä¸»å†…å®¹ â•â•â• -->
<div class="main">
  <div class="header">
    <div class="title" id="pageTitle">ä»ªè¡¨ç›˜</div>
    <div class="meta">
      <span id="updateTime"></span>
      <button class="refresh-btn" onclick="location.reload(true)">â†» åˆ·æ–°</button>
    </div>
  </div>
  <div class="content">

    <!-- â•â• æ€»è§ˆ â•â• -->
    <div class="module-page active" id="page-overview">
      <div id="ov-loading" style="text-align:center;padding:40px;color:#8b92a5">åŠ è½½ä¸­...</div>
      <div id="ov-content" style="display:none">
        <!-- é£é™©è¯„åˆ†æ¨ªå¹… -->
        <div id="ov-risk-banner" style="background:linear-gradient(135deg,#1e2433,#2a3350);border-radius:12px;padding:18px 22px;color:#e2e6ed;margin-bottom:16px">
          <div style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px">
            <div style="font-size:20px;font-weight:900">GAMT æŠ•ç ”çœ‹æ¿</div>
            <div style="display:flex;align-items:center;gap:12px">
              <div id="ov-risk-score" style="font-size:28px;font-weight:900"></div>
              <div>
                <div style="width:180px;height:8px;background:rgba(255,255,255,0.15);border-radius:4px;overflow:hidden"><div id="ov-risk-bar" style="height:100%;border-radius:4px;transition:width .5s"></div></div>
                <div id="ov-risk-label" style="font-size:11px;font-weight:700;margin-top:3px"></div>
              </div>
            </div>
            <div id="ov-time" style="font-size:11px;color:#7c8598"></div>
          </div>
          <div id="ov-alerts" style="margin-top:10px"></div>
        </div>
        <!-- é¡¶éƒ¨å¡ç‰‡ -->
        <div id="ov-cards" style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:16px"></div>
        <!-- æ¨¡å—çŠ¶æ€è¡¨ -->
        <div style="background:#fff;border-radius:10px;border:1px solid #e8eaef;padding:16px">
          <div style="font-size:14px;font-weight:700;margin-bottom:12px">ğŸ“‹ æ¨¡å—çŠ¶æ€</div>
          <table style="width:100%;border-collapse:collapse;font-size:12px">
            <thead><tr style="border-bottom:2px solid #e8eaef">
              <th style="text-align:left;padding:8px 6px;color:#6b7280">æ¨¡å—</th>
              <th style="text-align:left;padding:8px 6px;color:#6b7280">çŠ¶æ€</th>
              <th style="text-align:left;padding:8px 6px;color:#6b7280">æ›´æ–°</th>
              <th style="text-align:left;padding:8px 6px;color:#6b7280">å…³é”®ä¿¡å·</th>
            </tr></thead>
            <tbody id="ov-table"></tbody>
          </table>
        </div>
      </div>
      <script>
      (function(){
        fetch('overview.json?t='+Date.now()).then(function(r){return r.json()}).then(function(D){
          document.getElementById('ov-loading').style.display='none';
          document.getElementById('ov-content').style.display='';
          document.getElementById('ov-time').textContent='æ›´æ–°: '+D.update_time;
          // é£é™©
          var rs=D.risk_score||{};
          var sc=rs.score||0;
          var col=sc>=60?'#dc2626':sc>=40?'#f97316':sc>=20?'#eab308':'#22c55e';
          document.getElementById('ov-risk-score').textContent=sc.toFixed(0);
          document.getElementById('ov-risk-score').style.color=col;
          document.getElementById('ov-risk-bar').style.width=sc+'%';
          document.getElementById('ov-risk-bar').style.background=col;
          document.getElementById('ov-risk-label').textContent='ç»¼åˆé£é™© '+(rs.level||'');
          document.getElementById('ov-risk-label').style.color=col;
          document.getElementById('ov-alerts').innerHTML=(rs.alerts||[]).map(function(a){
            return '<div style="font-size:11px;color:#fbbf24;padding:2px 0">âš ï¸ '+a+'</div>';
          }).join('');
          // å¡ç‰‡
          var cardColors={blue:'#2563eb',green:'#16a34a',amber:'#d97706',red:'#dc2626',slate:'#64748b'};
          document.getElementById('ov-cards').innerHTML=(D.top_cards||[]).map(function(c){
            var cc=cardColors[c.color]||'#6b7280';
            return '<div style="background:#fff;border-radius:10px;border:1px solid #e8eaef;padding:14px 16px;border-left:4px solid '+cc+'">'+
              '<div style="font-size:11px;color:#6b7280;margin-bottom:4px">'+c.label+'</div>'+
              '<div style="font-size:13px;font-weight:700;color:'+cc+'">'+c.value+'</div></div>';
          }).join('');
          // è¡¨æ ¼
          document.getElementById('ov-table').innerHTML=(D.modules||[]).map(function(m){
            var st=m.status==='on'?'<span style="background:#dcfce7;color:#16a34a;padding:2px 8px;border-radius:10px;font-size:11px;font-weight:600">è¿è¡Œä¸­</span>':'<span style="background:#f1f5f9;color:#94a3b8;padding:2px 8px;border-radius:10px;font-size:11px;font-weight:600">ç¦»çº¿</span>';
            var sigs=(m.signals||[]).slice(0,2).join(' | ')||'-';
            return '<tr style="border-bottom:1px solid #f1f5f9"><td style="padding:8px 6px;font-weight:600">'+m.name+'</td><td style="padding:8px 6px">'+st+'</td><td style="padding:8px 6px;color:#6b7280">'+m.updated+'</td><td style="padding:8px 6px;color:#374151;font-size:11px">'+sigs+'</td></tr>';
          }).join('');
        }).catch(function(e){
          document.getElementById('ov-loading').textContent='åŠ è½½å¤±è´¥: '+e.message;
        });
      })();
      </script>
    </div>

    <!-- â•â• é£æ ¼è½§å·® â•â• -->
    <div class="module-page" id="page-style-spread">
      <iframe src="size_spread/style_spread.html" class="embed-frame" style="height:calc(100vh - var(--header-h) - 60px)"></iframe>
    </div>

    <!-- â•â• ç­–ç•¥ç¯å¢ƒé€‚é…åº¦ â•â• -->
    <div class="module-page" id="page-env-fit">
      <!-- ä¿¡å·æ‘˜è¦æ  -->
      <div id="envFitSignalBar" style="background:linear-gradient(135deg,#1e2433,#2a3350);border-radius:12px;padding:14px 18px;color:#e2e6ed;display:flex;align-items:center;gap:14px;flex-wrap:wrap;margin-bottom:14px">
        <div style="font-size:16px;font-weight:800">ç­–ç•¥ç¯å¢ƒé€‚é…åº¦</div>
        <div id="envFitSignalTags" style="display:flex;gap:6px;flex-wrap:wrap"></div>
        <div style="margin-left:auto;font-size:11px;color:#7c8598" id="envFitSignalTime"></div>
      </div>
      <script>
      (function(){
        fetch('env_fit/env_fit_signals.json?t='+Date.now()).then(function(r){return r.json()}).then(function(d){
          document.getElementById('envFitSignalTime').textContent='æ›´æ–°: '+(d.update_time||'');
          document.getElementById('envFitSignalTags').innerHTML=(d.signals||[]).map(function(s){
            var bg='rgba(255,255,255,0.1)',fg='#b8bfce';
            if(s.indexOf('ğŸŸ¢')>=0){bg='rgba(34,197,94,0.2)';fg='#4ade80';}
            else if(s.indexOf('ğŸ”´')>=0||s.indexOf('â„ï¸')>=0){bg='rgba(239,68,68,0.2)';fg='#f87171';}
            else if(s.indexOf('ğŸ”¥')>=0){bg='rgba(245,158,11,0.25)';fg='#fbbf24';}
            return '<span style="background:'+bg+';color:'+fg+';padding:3px 10px;border-radius:18px;font-size:11px">'+s+'</span>';
          }).join('');
        }).catch(function(){});
      })();
      </script>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;flex-wrap:wrap;gap:8px">
        <div class="strat-tabs" style="margin-bottom:0">
          <div class="strat-tab active" data-strat="quant-stock">ğŸ“Š å®½åŸºé‡åŒ–è‚¡ç¥¨</div>
          <div class="strat-tab" data-strat="momentum-stock">ğŸ”¥ å¼ºåŠ¿è‚¡</div>
          <div class="strat-tab" data-strat="cta">ğŸ“¦ å•†å“CTA</div>
          <div class="strat-tab" data-strat="convertible">ğŸ”„ è½¬å€º</div>
          <div class="strat-tab" data-strat="arbitrage">âš–ï¸ å¥—åˆ©</div>
        </div>
        <div style="display:flex;gap:6px;align-items:center">
          <button id="refreshBtn" onclick="refreshActiveTab()" style="background:#fff;border:1px solid #d1d5db;border-radius:8px;padding:6px 14px;font-size:12px;font-weight:600;color:#555;cursor:pointer;display:flex;align-items:center;gap:5px;transition:all .15s;white-space:nowrap" onmouseover="if(!this.disabled){this.style.borderColor='#6366f1';this.style.color='#6366f1'}" onmouseout="if(!this.disabled){this.style.borderColor='#d1d5db';this.style.color='#555'}">ğŸ”„ åˆ·æ–°å½“å‰</button>
          <button id="refreshAllBtn" onclick="refreshAllTabs()" style="background:#fff;border:1px solid #d1d5db;border-radius:8px;padding:6px 14px;font-size:12px;font-weight:600;color:#555;cursor:pointer;display:flex;align-items:center;gap:5px;transition:all .15s;white-space:nowrap" onmouseover="if(!this.disabled){this.style.borderColor='#6366f1';this.style.color='#6366f1'}" onmouseout="if(!this.disabled){this.style.borderColor='#d1d5db';this.style.color='#555'}">ğŸ”„ å…¨éƒ¨åˆ·æ–°</button>
        </div>
      </div>

      <div class="strat-page active" id="strat-quant-stock">
        <iframe src="env_fit/quant_stock/quant_stock.html" class="embed-frame" style="height:calc(100vh - var(--header-h) - 100px)"></iframe>
        <iframe src="size_spread/fund_nav/fund_nav.html?tab=quant-stock" class="embed-frame" style="height:700px;border:none;margin-top:10px;width:100%"></iframe>
      </div>

      <div class="strat-page" id="strat-momentum-stock">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding:0 2px">
        <span style="font-size:13px;color:#888">ğŸ”¥ å¼ºåŠ¿è‚¡æƒ…ç»ª Â· æ•°æ®æˆªè‡³ <b style="color:#2d3142">2026-02-27</b></span>
      </div>
      <!-- å¼ºåŠ¿è‚¡æƒ…ç»ªæ€»è§ˆ -->
      <div class="overview-grid">
        <div class="ov-card" style="border-left-color:#10b981">
          <div class="ov-label">åˆæˆæƒ…ç»ªæŒ‡æ•°</div>
          <div class="ov-value" style="color:#10b981">48.14</div>
          <div class="ov-sub">0-100ï¼Œ60æ—¥æ»šåŠ¨æ ‡å‡†åŒ–</div>
        </div>
        <div class="ov-card" style="border-left-color:#10b981">
          <div class="ov-label">æƒ…ç»ªå‘¨æœŸ</div>
          <div class="ov-value" style="color:#10b981">å›æš–</div>
          <div class="ov-sub">åŸºäºæŒ‡æ•°æ°´å¹³+å˜åŒ–ç‡è‡ªåŠ¨åˆ¤å®š</div>
        </div>
        <div class="ov-card blue">
          <div class="ov-label">æœ€é«˜è¿æ¿</div>
          <div class="ov-value">7æ¿</div>
          <div class="ov-sub">ç©ºé—´é¾™é«˜åº¦</div>
        </div>
        <div class="ov-card green">
          <div class="ov-label">æ¶¨åœ / è·Œåœ / ç‚¸æ¿</div>
          <div class="ov-value">75 / 0 / 15</div>
          <div class="ov-sub">æ¶¨è·Œåœæ¯” 75.0</div>
        </div>
        <div class="ov-card amber">
          <div class="ov-label">è¿æ¿æ™‹çº§ç‡</div>
          <div class="ov-value">0%</div>
          <div class="ov-sub">1è¿›2: 0%</div>
        </div>
        <div class="ov-card slate">
          <div class="ov-label">ç‚¸æ¿ç‡ / å°æ¿è´¨é‡</div>
          <div class="ov-value">16.67% / 58.67%</div>
          <div class="ov-sub">ç‚¸æ¿ç‡è¶Šä½è¶Šå¥½ï¼Œå°æ¿è´¨é‡è¶Šé«˜è¶Šå¥½</div>
        </div>
      </div>

      <div class="card">
        <div class="card-title"><span class="dot" style="background:#10b981"></span> åˆæˆæƒ…ç»ªæŒ‡æ•°ï¼ˆ0-100ï¼‰</div>
        <div style="position:relative;height:280px"><canvas id="ms-c1"></canvas></div>
      </div>

      <div class="card">
        <div class="card-title"><span class="dot" style="background:var(--accent)"></span> å­å› å­åˆ†è§£ï¼ˆæ ‡å‡†åŒ– 0-100ï¼‰</div>
        <div style="position:relative;height:280px"><canvas id="ms-c2"></canvas></div>
      </div>

      <div class="card">
        <div class="card-title"><span class="dot" style="background:#ef4444"></span> æ¶¨åœ / è·Œåœ / ç‚¸æ¿æ•°é‡</div>
        <div style="position:relative;height:260px"><canvas id="ms-c3"></canvas></div>
      </div>

      <div class="card">
        <div class="card-title"><span class="dot" style="background:#10b981"></span> è¿æ¿é«˜åº¦ & æ™‹çº§ç‡</div>
        <div style="position:relative;height:260px"><canvas id="ms-c4"></canvas></div>
      </div>

      <div class="card">
        <div class="card-title"><span class="dot" style="background:#8b5cf6"></span> æƒ…ç»ªå‘¨æœŸæ ‡æ³¨</div>
        <div id="ms-timeline" style="display:flex;flex-wrap:wrap;gap:3px;font-size:10px;line-height:1"></div>
      </div>

      <div class="card" style="font-size:11px;color:var(--text-sub);line-height:1.7">
        <div class="card-title" style="font-size:12px;color:#64748b"><span class="dot" style="background:#94a3b8"></span> æŒ‡æ ‡è¯´æ˜</div>
        <p>â‘  åˆæˆæƒ…ç»ªæŒ‡æ•° = 0.25*ç©ºé—´é«˜åº¦ + 0.25*æ™‹çº§ç‡ + 0.20*(1-ç‚¸æ¿ç‡) + 0.15*æ¶¨è·Œåœæ¯” + 0.15*å°æ¿è´¨é‡ï¼Œå„å› å­60æ—¥æ»šåŠ¨min-maxæ ‡å‡†åŒ–</p>
        <p>â‘¡ ç©ºé—´é«˜åº¦ï¼šå½“æ—¥æœ€é«˜è¿æ¿å¤©æ•°ï¼ˆlimit_timesæœ€å¤§å€¼ï¼‰</p>
        <p>â‘¢ è¿æ¿æ™‹çº§ç‡ï¼šä»Šæ—¥æ¶¨åœä¸­æ˜¨æ—¥ä¹Ÿæ¶¨åœçš„å æ¯”ï¼›1è¿›2ï¼šæ˜¨æ—¥é¦–æ¿ä»Šæ—¥æ™‹çº§è¿æ¿çš„å æ¯”</p>
        <p>â‘£ ç‚¸æ¿ç‡ï¼šæ›¾è§¦åŠæ¶¨åœä½†æœªå°ä½(Z) / (æ¶¨åœ(U)+ç‚¸æ¿(Z))ï¼Œè¶Šä½è¶Šå¥½</p>
        <p>â‘¤ å°æ¿è´¨é‡ï¼šæ¶¨åœè‚¡ä¸­ open_times=0ï¼ˆä¸€å­—/ç§’æ¿ï¼‰çš„å æ¯”ï¼Œè¶Šé«˜è¯´æ˜èµ„é‡‘è¶Šåšå†³</p>
        <p>â‘¥ æƒ…ç»ªå‘¨æœŸï¼šå†°ç‚¹(&lt;20) - å›æš–(çªç ´30) - åŠ é€Ÿ(&gt;60) - åˆ†æ­§(&gt;50ä¸‹é™) - é€€æ½®(è·Œç ´40)</p>
        <p style="margin-top:6px;color:#94a3b8">æ•°æ®æ¥æºï¼šTushare limit_list_d Â· æ›´æ–°ï¼š2026-02-27 23:24:10 Â· åŒºé—´ï¼š20250826 ~ 20260227</p>
      </div>

      <script>
      var _msInited=false;function initMsCharts(){if(_msInited)return;_msInited=true;
        var msL=["11/26", "11/27", "11/28", "12/01", "12/02", "12/03", "12/04", "12/05", "12/08", "12/09", "12/10", "12/11", "12/12", "12/15", "12/16", "12/17", "12/18", "12/19", "12/22", "12/23", "12/24", "12/25", "12/26", "12/29", "12/30", "12/31", "01/05", "01/06", "01/07", "01/08", "01/09", "01/12", "01/13", "01/14", "01/15", "01/16", "01/19", "01/20", "01/21", "01/22", "01/23", "01/26", "01/27", "01/28", "01/29", "01/30", "02/02", "02/03", "02/04", "02/05", "02/06", "02/09", "02/10", "02/11", "02/12", "02/13", "02/24", "02/25", "02/26", "02/27"];
        var msS=[48.06, 27.39, 43.04, 49.43, 51.84, 36.43, 18.01, 51.76, 58.57, 44.15, 49.92, 25.86, 61.32, 39.63, 35.88, 36.09, 59.8, 58.17, 46.62, 46.63, 61.46, 75.75, 71.19, 52.23, 46.36, 45.67, 43.94, 71.83, 36.73, 57.87, 50.57, 71.3, 33.23, 25.0, 28.16, 24.5, 33.46, 32.78, 34.26, 35.96, 48.04, 26.0, 40.04, 36.07, 36.87, 26.44, 31.99, 39.26, 37.74, 39.41, 23.12, 38.71, 42.74, 31.13, 41.86, 22.9, 27.64, 33.16, 20.0, 48.14];
        var msH=[5, 4, 5, 6, 7, 6, 3, 4, 5, 6, 6, 5, 5, 6, 4, 5, 6, 6, 7, 8, 9, 10, 11, 12, 10, 6, 6, 7, 8, 9, 10, 11, 12, 5, 4, 5, 4, 3, 4, 4, 5, 5, 6, 7, 8, 5, 3, 4, 4, 4, 3, 4, 3, 4, 4, 5, 4, 5, 0, 7];
        var msU=[68, 53, 70, 64, 47, 48, 38, 73, 74, 53, 57, 34, 78, 59, 42, 49, 61, 70, 80, 54, 76, 79, 82, 72, 54, 57, 108, 120, 80, 92, 94, 183, 66, 102, 55, 58, 88, 54, 79, 73, 104, 70, 53, 80, 82, 48, 36, 69, 68, 44, 55, 83, 60, 51, 60, 32, 92, 75, 0, 75];
        var msD=[3, 8, 3, 3, 2, 7, 13, 2, 2, 7, 3, 19, 15, 9, 15, 19, 4, 1, 8, 9, 4, 0, 1, 16, 13, 6, 8, 1, 3, 3, 1, 3, 49, 14, 63, 46, 23, 16, 4, 2, 0, 30, 2, 5, 11, 52, 98, 9, 5, 14, 5, 3, 2, 5, 13, 12, 15, 3, 0, 0];
        var msZ=[23, 34, 27, 27, 19, 25, 26, 21, 28, 23, 28, 27, 12, 33, 19, 20, 19, 22, 32, 21, 21, 24, 20, 26, 26, 19, 26, 25, 44, 29, 46, 48, 62, 59, 18, 39, 20, 15, 25, 27, 18, 40, 18, 26, 35, 21, 18, 18, 19, 10, 26, 26, 8, 17, 19, 11, 42, 35, 0, 15];
        var msP=[27.27, 14.71, 16.98, 25.71, 23.44, 23.4, 20.83, 28.95, 35.62, 22.97, 30.19, 15.79, 38.24, 16.67, 20.34, 19.05, 34.69, 24.59, 22.86, 21.25, 25.93, 28.95, 27.85, 21.95, 25.0, 22.22, 24.56, 38.89, 19.17, 32.5, 20.65, 45.74, 15.85, 28.79, 13.73, 10.91, 17.24, 13.64, 14.81, 21.52, 15.07, 14.42, 20.0, 18.87, 23.75, 8.54, 20.83, 27.78, 17.39, 14.71, 18.18, 25.45, 25.3, 18.33, 33.33, 8.33, 21.88, 19.57, 0.0, 0];
        var ms12=[21.54, 12.77, 11.63, 18.03, 8.7, 18.75, 18.92, 14.29, 32.26, 20.83, 22.22, 12.2, 44.0, 9.23, 15.22, 16.67, 26.83, 18.18, 20.0, 12.5, 13.51, 20.97, 14.04, 13.33, 22.22, 13.89, 24.44, 35.11, 10.26, 21.05, 13.64, 38.67, 11.43, 13.51, 12.05, 7.32, 17.31, 11.54, 14.29, 18.31, 12.5, 15.05, 16.36, 5.13, 20.0, 7.94, 17.07, 19.23, 13.56, 14.29, 11.76, 21.28, 28.99, 7.69, 30.0, 2.33, 14.81, 16.47, 0.0, 0];
        var msZR=[25.27, 39.08, 27.84, 29.67, 28.79, 34.25, 40.62, 22.34, 27.45, 30.26, 32.94, 44.26, 13.33, 35.87, 31.15, 28.99, 23.75, 23.91, 28.57, 28.0, 21.65, 23.3, 19.61, 26.53, 32.5, 25.0, 19.4, 17.24, 35.48, 23.97, 32.86, 20.78, 48.44, 36.65, 24.66, 40.21, 18.52, 21.74, 24.04, 27.0, 14.75, 36.36, 25.35, 24.53, 29.91, 30.43, 33.33, 20.69, 21.84, 18.52, 32.1, 23.85, 11.76, 25.0, 24.05, 25.58, 31.34, 31.82, 0.0, 16.67];
        var msUR=[22.67, 6.62, 23.33, 21.33, 23.5, 6.86, 2.92, 36.5, 37.0, 7.57, 19.0, 1.79, 5.2, 6.56, 2.8, 2.58, 15.25, 70.0, 10.0, 6.0, 19.0, 79.0, 82.0, 4.5, 4.15, 9.5, 13.5, 120.0, 26.67, 30.67, 94.0, 61.0, 1.35, 7.29, 0.87, 1.26, 3.83, 3.38, 19.75, 36.5, 104.0, 2.33, 26.5, 16.0, 7.45, 0.92, 0.37, 7.67, 13.6, 3.14, 11.0, 27.67, 30.0, 10.2, 4.62, 2.67, 6.13, 25.0, 0.0, 75.0];
        var msSL=[55.88, 60.38, 65.71, 57.81, 53.19, 37.5, 36.84, 61.64, 60.81, 52.83, 52.63, 50.0, 60.26, 61.02, 61.9, 51.02, 60.66, 54.29, 51.25, 46.3, 50.0, 54.43, 42.68, 47.22, 48.15, 63.16, 50.0, 53.33, 50.0, 54.35, 46.81, 38.8, 48.48, 34.31, 58.18, 62.07, 52.27, 70.37, 63.29, 54.79, 51.92, 58.57, 54.72, 42.5, 39.02, 58.33, 69.44, 50.72, 63.24, 79.55, 50.91, 55.42, 58.33, 56.86, 60.0, 46.88, 52.17, 58.67, 0.0, 58.67];
        var msCL=["\u9707\u8361", "\u9000\u6f6e", "\u56de\u6696", "\u56de\u6696", "\u9707\u8361", "\u9000\u6f6e", "\u51b0\u70b9", "\u56de\u6696", "\u56de\u6696", "\u9000\u6f6e", "\u56de\u6696", "\u9000\u6f6e", "\u52a0\u901f", "\u9000\u6f6e", "\u9000\u6f6e", "\u9707\u8361", "\u56de\u6696", "\u5206\u6b67", "\u9000\u6f6e", "\u9707\u8361", "\u52a0\u901f", "\u52a0\u901f", "\u5206\u6b67", "\u5206\u6b67", "\u9000\u6f6e", "\u9707\u8361", "\u9707\u8361", "\u52a0\u901f", "\u9000\u6f6e", "\u56de\u6696", "\u5206\u6b67", "\u52a0\u901f", "\u9000\u6f6e", "\u9000\u6f6e", "\u56de\u6696", "\u9000\u6f6e", "\u56de\u6696", "\u9707\u8361", "\u9707\u8361", "\u9707\u8361", "\u56de\u6696", "\u9000\u6f6e", "\u56de\u6696", "\u9000\u6f6e", "\u9707\u8361", "\u9000\u6f6e", "\u56de\u6696", "\u56de\u6696", "\u9707\u8361", "\u9707\u8361", "\u9000\u6f6e", "\u56de\u6696", "\u56de\u6696", "\u9000\u6f6e", "\u56de\u6696", "\u9000\u6f6e", "\u56de\u6696", "\u56de\u6696", "\u9000\u6f6e", "\u56de\u6696"];
        var msHN=[33.33, 16.67, 33.33, 50.0, 66.67, 50.0, 0.0, 16.67, 33.33, 50.0, 50.0, 33.33, 33.33, 50.0, 16.67, 33.33, 50.0, 50.0, 66.67, 83.33, 100.0, 100.0, 100.0, 100.0, 77.78, 33.33, 33.33, 44.44, 55.56, 66.67, 77.78, 88.89, 100.0, 22.22, 11.11, 22.22, 11.11, 0.0, 11.11, 11.11, 22.22, 22.22, 33.33, 44.44, 55.56, 22.22, 0.0, 11.11, 11.11, 11.11, 0.0, 11.11, 0.0, 11.11, 11.11, 22.22, 11.11, 22.22, 0.0, 58.33];
        var msPN=[45.37, 9.55, 16.03, 40.92, 34.45, 34.33, 27.0, 50.16, 69.18, 33.11, 53.69, 12.63, 76.65, 15.14, 25.61, 21.93, 66.52, 37.72, 32.79, 28.2, 41.55, 50.16, 47.02, 30.2, 38.89, 30.97, 37.64, 76.23, 14.06, 56.08, 18.73, 97.82, 3.59, 44.39, 0.0, 0.0, 17.82, 7.69, 10.98, 29.87, 11.71, 9.88, 25.59, 22.41, 36.15, 0.0, 32.44, 50.78, 23.36, 16.28, 25.44, 44.63, 44.23, 25.84, 65.43, 0.0, 35.56, 29.5, 0.0, 0.0];
        var msZN=[71.8, 37.67, 65.45, 60.92, 63.1, 49.6, 33.86, 79.04, 66.41, 59.47, 52.84, 24.86, 100.0, 45.01, 56.53, 61.8, 74.58, 74.19, 62.82, 64.21, 79.7, 75.68, 84.68, 67.8, 53.23, 71.53, 85.19, 90.46, 45.96, 71.45, 47.6, 80.01, 5.8, 37.43, 69.6, 27.88, 86.07, 77.43, 71.26, 63.32, 96.19, 38.21, 67.75, 69.95, 55.51, 54.12, 46.34, 80.25, 77.17, 86.07, 49.64, 71.77, 100.0, 65.91, 68.36, 64.42, 46.62, 45.31, 100.0, 65.59];
        var msUN=[21.5, 6.01, 22.14, 20.21, 27.31, 7.65, 2.99, 42.68, 43.27, 8.49, 22.0, 1.65, 5.68, 7.29, 2.85, 2.59, 17.56, 82.27, 11.36, 6.63, 22.0, 92.91, 96.45, 4.86, 4.44, 10.77, 15.49, 100.0, 21.97, 25.32, 78.26, 50.67, 0.8, 5.77, 0.4, 0.73, 2.88, 2.5, 16.19, 30.19, 86.62, 1.62, 21.83, 13.05, 5.9, 0.44, 0.0, 6.1, 11.06, 2.32, 8.89, 22.82, 24.77, 8.22, 3.55, 1.92, 4.81, 20.59, 0.0, 62.5];
        var msSN=[72.01, 82.65, 95.27, 76.57, 65.64, 28.51, 26.95, 85.64, 87.83, 68.01, 67.51, 60.98, 86.46, 88.35, 90.54, 63.51, 87.46, 60.44, 49.91, 32.77, 45.58, 60.93, 20.23, 35.95, 39.18, 91.17, 45.58, 57.12, 45.58, 60.65, 34.53, 6.79, 40.32, 0.0, 76.02, 88.41, 57.2, 100.0, 80.37, 56.79, 48.84, 67.28, 56.6, 22.71, 13.06, 66.61, 97.42, 45.51, 80.23, 100.0, 36.69, 46.66, 53.09, 49.85, 56.79, 27.79, 39.48, 53.85, 0.0, 73.75];

        var msB={
          responsive:true,maintainAspectRatio:false,
          interaction:{mode:'index',intersect:false},
          plugins:{legend:{position:'bottom',labels:{boxWidth:10,font:{size:10},padding:12}}},
          scales:{x:{ticks:{maxTicksToShow:12,font:{size:9},color:'#94a3b8'},grid:{display:false}},y:{ticks:{font:{size:9},color:'#94a3b8'},grid:{color:'#f1f5f9'}}}
        };

        function msMA(a,n){var r=[];for(var i=0;i<a.length;i++){if(i<n-1){r.push(null)}else{var s=0;for(var j=i-n+1;j<=i;j++)s+=a[j];r.push(s/n)}}return r;}

        new Chart(document.getElementById('ms-c1'),{
          type:'line',
          data:{labels:msL,datasets:[
            {label:'æƒ…ç»ªæŒ‡æ•°',data:msS,borderColor:'#ef4444',backgroundColor:'rgba(239,68,68,0.08)',fill:true,borderWidth:2,pointRadius:1.5,pointBackgroundColor:'#ef4444',tension:.2},
            {label:'MA5',data:msMA(msS,5),borderColor:'#f59e0b',borderWidth:1.2,borderDash:[4,3],pointRadius:0,tension:.2},
            {label:'MA20',data:msMA(msS,20),borderColor:'#94a3b8',borderWidth:1,borderDash:[2,2],pointRadius:0,tension:.2}
          ]},
          options:Object.assign({},msB,{scales:{x:msB.scales.x,y:{ticks:{font:{size:9},color:'#94a3b8',stepSize:20},grid:{color:'#f1f5f9'},min:0,max:100}}})
        });

        new Chart(document.getElementById('ms-c2'),{
          type:'line',
          data:{labels:msL,datasets:[
            {label:'ç©ºé—´é«˜åº¦(0.25)',data:msHN,borderColor:'#ef4444',borderWidth:1.3,pointRadius:0,tension:.2},
            {label:'æ™‹çº§ç‡(0.25)',data:msPN,borderColor:'#2563eb',borderWidth:1.3,pointRadius:0,tension:.2},
            {label:'1-ç‚¸æ¿ç‡(0.20)',data:msZN,borderColor:'#10b981',borderWidth:1.3,pointRadius:0,tension:.2},
            {label:'æ¶¨è·Œåœæ¯”(0.15)',data:msUN,borderColor:'#f59e0b',borderWidth:1.3,pointRadius:0,tension:.2},
            {label:'å°æ¿è´¨é‡(0.15)',data:msSN,borderColor:'#8b5cf6',borderWidth:1.3,pointRadius:0,tension:.2}
          ]},
          options:Object.assign({},msB,{scales:{x:msB.scales.x,y:{ticks:{font:{size:9},color:'#94a3b8'},grid:{color:'#f1f5f9'},min:0,max:100}}})
        });

        new Chart(document.getElementById('ms-c3'),{
          type:'bar',
          data:{labels:msL,datasets:[
            {label:'æ¶¨åœ',data:msU,backgroundColor:'rgba(239,68,68,0.7)',borderRadius:2,barPercentage:0.7},
            {label:'è·Œåœ',data:msD.map(function(v){return -v}),backgroundColor:'rgba(16,185,129,0.7)',borderRadius:2,barPercentage:0.7},
            {label:'ç‚¸æ¿',data:msZ,backgroundColor:'rgba(245,158,11,0.5)',borderRadius:2,barPercentage:0.7}
          ]},
          options:msB
        });

        new Chart(document.getElementById('ms-c4'),{
          type:'bar',
          data:{labels:msL,datasets:[
            {label:'æœ€é«˜è¿æ¿',data:msH,backgroundColor:'rgba(37,99,235,0.6)',borderRadius:2,barPercentage:0.5,yAxisID:'y'},
            {label:'æ™‹çº§ç‡(%)',data:msP,type:'line',borderColor:'#ef4444',borderWidth:1.5,pointRadius:1,tension:.2,yAxisID:'y1'},
            {label:'1è¿›2(%)',data:ms12,type:'line',borderColor:'#f59e0b',borderWidth:1.2,borderDash:[3,2],pointRadius:0,tension:.2,yAxisID:'y1'}
          ]},
          options:Object.assign({},msB,{scales:{
            x:msB.scales.x,
            y:{position:'left',ticks:{font:{size:9},color:'#94a3b8'},grid:{color:'#f1f5f9'},title:{display:true,text:'è¿æ¿é«˜åº¦',font:{size:9},color:'#94a3b8'}},
            y1:{position:'right',ticks:{font:{size:9},color:'#94a3b8',callback:function(v){return v+'%'}},grid:{display:false},title:{display:true,text:'æ™‹çº§ç‡',font:{size:9},color:'#94a3b8'}}
          }})
        });

        var cycleColors={"å†°ç‚¹": "#3b82f6", "å›æš–": "#10b981", "åŠ é€Ÿ": "#ef4444", "åˆ†æ­§": "#f59e0b", "é€€æ½®": "#8b5cf6", "éœ‡è¡": "#94a3b8", "â€”": "#94a3b8"};
        var tl=document.getElementById('ms-timeline');
        if(tl){msL.forEach(function(d,i){
          var lb=msCL[i];var c=cycleColors[lb]||'#94a3b8';
          var el=document.createElement('div');
          el.style.cssText='padding:3px 6px;border-radius:3px;color:#fff;font-weight:600;background:'+c;
          el.title=d+' æƒ…ç»ª='+msS[i];
          el.textContent=d+' '+lb;
          tl.appendChild(el);
        });}
      }
      </script>
      <iframe src="size_spread/fund_nav/fund_nav.html?tab=momentum-stock" class="embed-frame" style="height:700px;border:none;margin-top:10px;width:100%"></iframe>
      </div>
      <div class="strat-page" id="strat-cta">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding:0 2px">
        <span style="font-size:13px;color:#888">ğŸ“¦ å•†å“CTA Â· æ•°æ®æˆªè‡³ <b style="color:#2d3142">2026-02-27</b></span>
      </div>
      <!-- CTAç­–ç•¥ç¯å¢ƒæ€»è§ˆ -->
      <div class="overview-grid">
        <div class="ov-card" style="border-left-color:#f59e0b">
          <div class="ov-label">CTAå‹å¥½åº¦</div>
          <div class="ov-value" style="color:#f59e0b">49.4</div>
          <div class="ov-sub">ä¸€èˆ¬ Â· 0-100ç»¼åˆè¯„åˆ†</div>
        </div>
        <div class="ov-card blue">
          <div class="ov-label">æ´»è·ƒå“ç§</div>
          <div class="ov-value">58</div>
          <div class="ov-sub">æ—¥å‡æˆäº¤é¢ &gt; 500ä¸‡</div>
        </div>
        <div class="ov-card" style="border-left-color:#ef4444">
          <div class="ov-label">è¶‹åŠ¿å“ç§å æ¯”</div>
          <div class="ov-value">5.2%</div>
          <div class="ov-sub">3/58 æœ‰æ˜æ˜¾è¶‹åŠ¿</div>
        </div>
        <div class="ov-card amber">
          <div class="ov-label">å¹³å‡20æ—¥æ³¢åŠ¨ç‡</div>
          <div class="ov-value">94.1%</div>
          <div class="ov-sub">æ´»è·ƒå“ç§å¹´åŒ–æ³¢åŠ¨ç‡å‡å€¼</div>
        </div>
        <div class="ov-card slate">
          <div class="ov-label">æˆäº¤é‡æ¯”</div>
          <div class="ov-value">1.05</div>
          <div class="ov-sub">MA20/MA60ï¼Œ&gt;1.2ä¸ºæ”¾é‡</div>
        </div>
        <div class="ov-card green">
          <div class="ov-label">æ•°æ®æ—¥æœŸ</div>
          <div class="ov-value" style="font-size:18px">2026-02-27</div>
          <div class="ov-sub">æœ€æ–°äº¤æ˜“æ—¥</div>
        </div>
      </div>

      <!-- å®è§‚æ¯”ä»· -->
      <div class="card">
        <div class="card-title"><span class="dot" style="background:#8b5cf6"></span> å®è§‚æ¯”ä»·ä¿¡å·</div>
        <div style="overflow-x:auto">
        <table style="width:100%;border-collapse:collapse;font-size:12px">
          <thead>
            <tr style="border-bottom:1px solid #e2e8f0;color:#64748b;text-align:left">
              <th style="padding:8px 6px">æ¯”ä»·</th>
              <th style="padding:8px 6px">æœ€æ–°å€¼</th>
              <th style="padding:8px 6px">20æ—¥å˜åŒ–</th>
              <th style="padding:8px 6px">åˆ†ä½æ•°</th>
              <th style="padding:8px 6px">è¶‹åŠ¿</th>
              <th style="padding:8px 6px">å«ä¹‰</th>
            </tr>
          </thead>
          <tbody>
            <tr style="border-bottom:1px solid #f1f5f9">
              <td style="padding:8px 6px;font-weight:600">é“œé‡‘æ¯”</td>
              <td style="padding:8px 6px">90.5305</td>
              <td style="padding:8px 6px;color:#ef4444;font-weight:600">-2.23%</td>
              <td style="padding:8px 6px">20%</td>
              <td style="padding:8px 6px;color:#94a3b8;font-weight:600">æ¨ªç›˜</td>
              <td style="padding:8px 6px;color:#94a3b8;font-size:11px">ä¸Šå‡=ç»æµé¢„æœŸæ”¹å–„ï¼Œä¸‹é™=é¿é™©å‡æ¸©</td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9">
              <td style="padding:8px 6px;font-weight:600">æ²¹é‡‘æ¯”</td>
              <td style="padding:8px 6px">0.4255</td>
              <td style="padding:8px 6px;color:#10b981;font-weight:600">+3.66%</td>
              <td style="padding:8px 6px">42%</td>
              <td style="padding:8px 6px;color:#94a3b8;font-weight:600">æ¨ªç›˜</td>
              <td style="padding:8px 6px;color:#94a3b8;font-size:11px">ä¸Šå‡=é€šèƒ€é¢„æœŸ/éœ€æ±‚å¼ºï¼Œä¸‹é™=è¡°é€€é¢„æœŸ</td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9">
              <td style="padding:8px 6px;font-weight:600">å·¥ä¸šå“/å†œäº§å“</td>
              <td style="padding:8px 6px">1.0586</td>
              <td style="padding:8px 6px;color:#ef4444;font-weight:600">-3.32%</td>
              <td style="padding:8px 6px">28%</td>
              <td style="padding:8px 6px;color:#ef4444;font-weight:600">ä¸‹é™</td>
              <td style="padding:8px 6px;color:#94a3b8;font-size:11px">ä¸Šå‡=å·¥ä¸šå“ç›¸å¯¹å¼ºåŠ¿(ç»æµæ‰©å¼ )ï¼Œä¸‹é™=å†œäº§å“ç›¸å¯¹å¼ºåŠ¿(é˜²å¾¡)</td>
            </tr>
          </tbody>
        </table>
        </div>
      </div>

      <!-- å®è§‚æ¯”ä»·èµ°åŠ¿å›¾ -->
      <div class="card">
        <div class="card-title"><span class="dot" style="background:#ef4444"></span> é“œé‡‘æ¯”èµ°åŠ¿ï¼ˆCU/AUï¼‰</div>
        <div style="font-size:11px;color:#94a3b8;margin-bottom:8px">ä¸Šå‡=ç»æµé¢„æœŸæ”¹å–„ï¼Œä¸‹é™=é¿é™©å‡æ¸©</div>
        <div style="position:relative;height:220px"><canvas id="cta-cu-au"></canvas></div>
      </div>

      <div class="card">
        <div class="card-title"><span class="dot" style="background:#f59e0b"></span> æ²¹é‡‘æ¯”èµ°åŠ¿ï¼ˆSC/AUï¼‰</div>
        <div style="font-size:11px;color:#94a3b8;margin-bottom:8px">ä¸Šå‡=é€šèƒ€é¢„æœŸ/éœ€æ±‚å¼ºï¼Œä¸‹é™=è¡°é€€é¢„æœŸ</div>
        <div style="position:relative;height:220px"><canvas id="cta-sc-au"></canvas></div>
      </div>

      <div class="card">
        <div class="card-title"><span class="dot" style="background:#10b981"></span> å·¥ä¸šå“ vs å†œäº§å“ç¯®å­</div>
        <div style="font-size:11px;color:#94a3b8;margin-bottom:8px">å·¥ä¸šç¯®å­(RB,CU,AL,MA,TA,EG) vs å†œäº§å“ç¯®å­(M,P,SR,C,OI,CF) ç­‰æƒå½’1å¤åˆ©</div>
        <div style="position:relative;height:220px"><canvas id="cta-ind-agri"></canvas></div>
      </div>

      <script>
      var _ctaChartsInited=false;
      function initCtaCharts(){
        if(_ctaChartsInited)return;
        _ctaChartsInited=true;
        var ctaB={responsive:true,maintainAspectRatio:false,
          interaction:{mode:'index',intersect:false},
          plugins:{legend:{position:'bottom',labels:{boxWidth:10,font:{size:10},padding:12}},
            tooltip:{callbacks:{label:function(c){return c.dataset.label+': '+c.parsed.y.toFixed(4)}}}},
          scales:{x:{ticks:{maxTicksToShow:10,font:{size:9},color:'#94a3b8'},grid:{display:false}},
            y:{ticks:{font:{size:9},color:'#94a3b8'},grid:{color:'#f1f5f9'}}}
        };
        new Chart(document.getElementById('cta-cu-au'),{
          type:'line',
          data:{labels:["07/09", "07/10", "07/11", "07/14", "07/15", "07/16", "07/17", "07/18", "07/21", "07/22", "07/23", "07/24", "07/25", "07/28", "07/29", "07/30", "07/31", "08/01", "08/04", "08/05", "08/06", "08/07", "08/08", "08/11", "08/12", "08/13", "08/14", "08/15", "08/18", "08/19", "08/20", "08/21", "08/22", "08/25", "08/26", "08/27", "08/28", "08/29", "09/01", "09/02", "09/03", "09/04", "09/05", "09/08", "09/09", "09/10", "09/11", "09/12", "09/15", "09/16", "09/17", "09/18", "09/19", "09/22", "09/23", "09/24", "09/25", "09/26", "09/29", "09/30", "10/09", "10/10", "10/13", "10/14", "10/15", "10/16", "10/17", "10/20", "10/21", "10/22", "10/23", "10/24", "10/27", "10/28", "10/29", "10/30", "10/31", "11/03", "11/04", "11/05", "11/06", "11/07", "11/10", "11/11", "11/12", "11/13", "11/14", "11/17", "11/18", "11/19", "11/20", "11/21", "11/24", "11/25", "11/26", "11/27", "11/28", "12/01", "12/02", "12/03", "12/04", "12/05", "12/08", "12/09", "12/10", "12/11", "12/12", "12/15", "12/16", "12/17", "12/18", "12/19", "12/22", "12/23", "12/24", "12/25", "12/26", "12/29", "12/30", "12/31", "01/05", "01/06", "01/07", "01/08", "01/09", "01/12", "01/13", "01/14", "01/15", "01/16", "01/19", "01/20", "01/21", "01/22", "01/23", "01/26", "01/27", "01/28", "01/29", "01/30", "02/02", "02/03", "02/04", "02/05", "02/06", "02/09", "02/10", "02/11", "02/12", "02/13", "02/24", "02/25", "02/26", "02/27"],datasets:[
            {label:'é“œé‡‘æ¯”',data:[102.240421, 101.642312, 101.388386, 100.332736, 100.06407, 100.404295, 100.273097, 100.911173, 101.957273, 101.600326, 100.378358, 102.588797, 101.952864, 101.964429, 102.198486, 102.005738, 101.313808, 101.723064, 100.240588, 100.421725, 99.887709, 99.946498, 99.631886, 101.375276, 101.824648, 102.067582, 101.386927, 101.907708, 101.522516, 101.785668, 101.775638, 101.326246, 101.745539, 102.274186, 101.38007, 101.374878, 100.776283, 101.143774, 99.655241, 99.040183, 98.308953, 98.120495, 98.25895, 96.796539, 95.448663, 95.738043, 96.451527, 97.168613, 97.330447, 96.047881, 96.469799, 96.614489, 96.212194, 94.695806, 93.425606, 92.976744, 96.768532, 96.336705, 95.058394, 95.048033, 94.879255, 95.290386, 91.767648, 89.895418, 89.343358, 88.005215, 84.406881, 87.99159, 85.910307, 89.674141, 91.342276, 93.508155, 94.600381, 96.496483, 97.389338, 96.430451, 94.379122, 94.62594, 93.645558, 93.909631, 94.050992, 93.285283, 92.395137, 91.297108, 91.820335, 91.082166, 91.166597, 93.010996, 93.247833, 91.867663, 92.358669, 92.411591, 92.527302, 91.494982, 91.463157, 91.842983, 91.653388, 92.683332, 92.777697, 93.247622, 95.424891, 96.541247, 96.97507, 95.729029, 96.037223, 96.262658, 96.923743, 93.982668, 94.624364, 94.741355, 94.441611, 95.091336, 94.238954, 92.611216, 94.709662, 95.374519, 97.136672, 98.155245, 99.599935, 100.49511, 101.859296, 104.798105, 103.523876, 101.428944, 100.757094, 101.141989, 99.583325, 100.055736, 99.314142, 97.615081, 96.464801, 95.485587, 92.72178, 92.59089, 90.835753, 89.108911, 89.343249, 86.882482, 87.349494, 89.270032, 97.739441, 95.540237, 92.10826, 91.321806, 91.824753, 90.448869, 90.579904, 90.392781, 90.869534, 90.424286, 88.231204, 89.013605, 89.552369, 90.530534],borderColor:'#ef4444',backgroundColor:'rgba(239,68,68,0.06)',fill:true,borderWidth:2,pointRadius:2,pointBackgroundColor:'#ef4444',tension:.3}
          ]},
          options:ctaB
        });
        new Chart(document.getElementById('cta-sc-au'),{
          type:'line',
          data:{labels:["07/09", "07/10", "07/11", "07/14", "07/15", "07/16", "07/17", "07/18", "07/21", "07/22", "07/23", "07/24", "07/25", "07/28", "07/29", "07/30", "07/31", "08/01", "08/04", "08/05", "08/06", "08/07", "08/08", "08/11", "08/12", "08/13", "08/14", "08/15", "08/18", "08/19", "08/20", "08/21", "08/22", "08/25", "08/26", "08/27", "08/28", "08/29", "09/01", "09/02", "09/03", "09/04", "09/05", "09/08", "09/09", "09/10", "09/11", "09/12", "09/15", "09/16", "09/17", "09/18", "09/19", "09/22", "09/23", "09/24", "09/25", "09/26", "09/29", "09/30", "10/09", "10/10", "10/13", "10/14", "10/15", "10/16", "10/17", "10/20", "10/21", "10/22", "10/23", "10/24", "10/27", "10/28", "10/29", "10/30", "10/31", "11/03", "11/04", "11/05", "11/06", "11/07", "11/10", "11/11", "11/12", "11/13", "11/14", "11/17", "11/18", "11/19", "11/20", "11/21", "11/24", "11/25", "11/26", "11/27", "11/28", "12/01", "12/02", "12/03", "12/04", "12/05", "12/08", "12/09", "12/10", "12/11", "12/12", "12/15", "12/16", "12/17", "12/18", "12/19", "12/22", "12/23", "12/24", "12/25", "12/26", "12/29", "12/30", "12/31", "01/05", "01/06", "01/07", "01/08", "01/09", "01/12", "01/13", "01/14", "01/15", "01/16", "01/19", "01/20", "01/21", "01/22", "01/23", "01/26", "01/27", "01/28", "01/29", "01/30", "02/02", "02/03", "02/04", "02/05", "02/06", "02/09", "02/10", "02/11", "02/12", "02/13", "02/24", "02/25", "02/26", "02/27"],datasets:[
            {label:'æ²¹é‡‘æ¯”',data:[0.677734, 0.675676, 0.664331, 0.67507, 0.664018, 0.666186, 0.665739, 0.684667, 0.655367, 0.642551, 0.635263, 0.653492, 0.659831, 0.65296, 0.667583, 0.68314, 0.689749, 0.684944, 0.658161, 0.650224, 0.645544, 0.6382, 0.621731, 0.627854, 0.638111, 0.629404, 0.618852, 0.626837, 0.625595, 0.624726, 0.624838, 0.633321, 0.638221, 0.632588, 0.635114, 0.614087, 0.615025, 0.617995, 0.603952, 0.609708, 0.605242, 0.59165, 0.590976, 0.596092, 0.578564, 0.583379, 0.588844, 0.569754, 0.586941, 0.586168, 0.597907, 0.596772, 0.586351, 0.570585, 0.553049, 0.560814, 0.573989, 0.573908, 0.568481, 0.548605, 0.515137, 0.512334, 0.489133, 0.477752, 0.462024, 0.459221, 0.432687, 0.44913, 0.440315, 0.469472, 0.487859, 0.495576, 0.501959, 0.513324, 0.507861, 0.503092, 0.497549, 0.507165, 0.506236, 0.508298, 0.501634, 0.499967, 0.493387, 0.483517, 0.492937, 0.467635, 0.479857, 0.492867, 0.499499, 0.495731, 0.48844, 0.482663, 0.481447, 0.473957, 0.470044, 0.472571, 0.475826, 0.473071, 0.473488, 0.468381, 0.474712, 0.472093, 0.477313, 0.468819, 0.463927, 0.459025, 0.450827, 0.443977, 0.443166, 0.435533, 0.43794, 0.435351, 0.437524, 0.43471, 0.438266, 0.438856, 0.434714, 0.4317, 0.442813, 0.442121, 0.423819, 0.426078, 0.416758, 0.417059, 0.429914, 0.426297, 0.433809, 0.42811, 0.429772, 0.425062, 0.417016, 0.412202, 0.403552, 0.410453, 0.396096, 0.399976, 0.388983, 0.388046, 0.378266, 0.405366, 0.445172, 0.410869, 0.40501, 0.419169, 0.426925, 0.412278, 0.424627, 0.421798, 0.423401, 0.415008, 0.42877, 0.424218, 0.421813, 0.425473],borderColor:'#f59e0b',backgroundColor:'rgba(245,158,11,0.06)',fill:true,borderWidth:2,pointRadius:2,pointBackgroundColor:'#f59e0b',tension:.3}
          ]},
          options:ctaB
        });
        new Chart(document.getElementById('cta-ind-agri'),{
          type:'line',
          data:{labels:["07/09", "07/10", "07/11", "07/14", "07/15", "07/16", "07/17", "07/18", "07/21", "07/22", "07/23", "07/24", "07/25", "07/28", "07/29", "07/30", "07/31", "08/01", "08/04", "08/05", "08/06", "08/07", "08/08", "08/11", "08/12", "08/13", "08/14", "08/15", "08/18", "08/19", "08/20", "08/21", "08/22", "08/25", "08/26", "08/27", "08/28", "08/29", "09/01", "09/02", "09/03", "09/04", "09/05", "09/08", "09/09", "09/10", "09/11", "09/12", "09/15", "09/16", "09/17", "09/18", "09/19", "09/22", "09/23", "09/24", "09/25", "09/26", "09/29", "09/30", "10/09", "10/10", "10/13", "10/14", "10/15", "10/16", "10/17", "10/20", "10/21", "10/22", "10/23", "10/24", "10/27", "10/28", "10/29", "10/30", "10/31", "11/03", "11/04", "11/05", "11/06", "11/07", "11/10", "11/11", "11/12", "11/13", "11/14", "11/17", "11/18", "11/19", "11/20", "11/21", "11/24", "11/25", "11/26", "11/27", "11/28", "12/01", "12/02", "12/03", "12/04", "12/05", "12/08", "12/09", "12/10", "12/11", "12/12", "12/15", "12/16", "12/17", "12/18", "12/19", "12/22", "12/23", "12/24", "12/25", "12/26", "12/29", "12/30", "12/31", "01/05", "01/06", "01/07", "01/08", "01/09", "01/12", "01/13", "01/14", "01/15", "01/16", "01/19", "01/20", "01/21", "01/22", "01/23", "01/26", "01/27", "01/28", "01/29", "01/30", "02/02", "02/03", "02/04", "02/05", "02/06", "02/09", "02/10", "02/11", "02/12", "02/13", "02/24", "02/25", "02/26", "02/27"],datasets:[
            {label:'å·¥ä¸šå“ç¯®å­',data:[1.0, 1.009502, 1.005403, 1.008628, 1.003189, 1.003038, 1.005216, 1.008626, 1.024061, 1.03422, 1.027256, 1.037853, 1.047824, 1.023886, 1.032903, 1.030545, 1.01787, 1.015096, 1.012654, 1.015313, 1.017484, 1.015988, 1.013618, 1.019201, 1.021463, 1.017447, 1.0083, 1.016928, 1.012612, 1.011179, 1.018354, 1.020827, 1.020289, 1.027104, 1.021725, 1.018811, 1.017086, 1.01482, 1.01602, 1.011632, 1.011457, 1.008505, 1.014537, 1.013044, 1.010622, 1.011723, 1.01011, 1.012445, 1.014591, 1.014187, 1.015027, 1.005991, 1.006426, 1.004986, 0.999864, 1.004583, 1.013698, 1.007678, 1.007376, 1.002149, 1.009045, 1.003988, 1.002715, 0.99045, 0.993018, 0.996994, 0.98566, 0.986914, 0.988805, 0.994573, 1.001977, 1.002471, 1.012375, 1.003769, 1.013863, 1.001705, 0.998221, 0.995225, 0.984577, 0.985251, 0.99134, 0.989313, 0.99267, 0.984737, 0.990973, 0.994754, 0.989819, 0.988778, 0.98292, 0.983417, 0.978427, 0.973862, 0.9863, 0.986751, 0.990399, 0.989958, 0.997116, 1.006017, 1.004751, 1.003985, 1.007321, 1.002845, 1.001413, 0.987874, 0.990059, 0.988112, 0.991428, 0.989524, 0.996491, 1.00409, 1.010308, 1.014246, 1.022846, 1.018446, 1.03463, 1.035078, 1.04556, 1.041233, 1.046831, 1.045829, 1.0503, 1.077404, 1.078601, 1.062418, 1.070945, 1.079741, 1.071632, 1.080239, 1.070349, 1.058975, 1.056014, 1.053168, 1.056392, 1.071575, 1.090507, 1.094378, 1.083422, 1.102033, 1.113576, 1.088418, 1.048278, 1.066307, 1.075011, 1.054287, 1.053028, 1.05671, 1.057145, 1.062446, 1.057486, 1.045251, 1.063753, 1.066784, 1.059418, 1.059055],borderColor:'#ef4444',borderWidth:2,pointRadius:1.5,tension:.3},
            {label:'å†œäº§å“ç¯®å­',data:[1.0, 1.000135, 1.001093, 1.002785, 0.999644, 1.002736, 1.010444, 1.019265, 1.018364, 1.018243, 1.019365, 1.01872, 1.014633, 1.010734, 1.009936, 1.010841, 1.003445, 1.002566, 1.002033, 1.004109, 1.002379, 1.001007, 0.99969, 1.006833, 1.018823, 1.033175, 1.028509, 1.020549, 1.024249, 1.024806, 1.022754, 1.018356, 1.020521, 1.021947, 1.015715, 1.014099, 1.012519, 1.01387, 1.013009, 1.013347, 1.010276, 1.010558, 1.016056, 1.015321, 1.013449, 1.006725, 1.012378, 1.010094, 1.009365, 1.012964, 1.007861, 1.003027, 1.004188, 1.004097, 0.990105, 0.99254, 0.999464, 0.99761, 0.994116, 0.990442, 1.002198, 0.994275, 0.989232, 0.983355, 0.984487, 0.985349, 0.982626, 0.988995, 0.989016, 0.98471, 0.987829, 0.986141, 0.984125, 0.985667, 0.980201, 0.980106, 0.980299, 0.980919, 0.977178, 0.978896, 0.98567, 0.982835, 0.986282, 0.991432, 0.991702, 0.996173, 0.992561, 0.98926, 0.986371, 0.987892, 0.981984, 0.982096, 0.984087, 0.985301, 0.986001, 0.99061, 0.99267, 0.993163, 0.994602, 0.994718, 0.981323, 0.981923, 0.974885, 0.969329, 0.968061, 0.970948, 0.964871, 0.961146, 0.954905, 0.949384, 0.947383, 0.942044, 0.948642, 0.951387, 0.957073, 0.960524, 0.969954, 0.967737, 0.971744, 0.968459, 0.966998, 0.972161, 0.979302, 0.974119, 0.976577, 0.977778, 0.977854, 0.976601, 0.970167, 0.972917, 0.968618, 0.969681, 0.969673, 0.978724, 0.977566, 0.987129, 0.987459, 0.993245, 1.000547, 0.991425, 0.978982, 0.980495, 0.982949, 0.979686, 0.980147, 0.979831, 0.980939, 0.986056, 0.983674, 0.980635, 0.992276, 0.998828, 0.99627, 1.000457],borderColor:'#10b981',borderWidth:2,pointRadius:1.5,tension:.3}
          ]},
          options:Object.assign({},ctaB,{scales:{x:ctaB.scales.x,y:{ticks:{font:{size:9},color:'#94a3b8',callback:function(v){return v.toFixed(3)}},grid:{color:'#f1f5f9'}}}})
        });
      }
      </script>

      <!--
      â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
      â•‘  å“ç§è¶‹åŠ¿æ‰«æ v2 â€” è®¡ç®—å…¬å¼è¯´æ˜                                â•‘
      â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
      â•‘                                                              â•‘
      â•‘  ã€è¶‹åŠ¿æ–¹å‘ (trend_dir)ã€‘                                      â•‘
      â•‘  MAå¤šå¤´æ’åˆ—è¯„åˆ† = æ¯”è¾ƒ MA5>MA10, MA10>MA20, MA20>MA60 å„å¯¹     â•‘
      â•‘    å¤§äº+1, å°äº-1, ç­‰äº0 â†’ æ±‚å’Œ/3 â†’ alignment âˆˆ [-1, +1]     â•‘
      â•‘  ä»·æ ¼ä½ç½® = (ä»·æ ¼åœ¨MA5/10/20/60ä¹‹ä¸Šçš„ä¸ªæ•°)/4 Ã— 2 - 1           â•‘
      â•‘  ç»¼åˆ = 0.6Ã—alignment + 0.4Ã—ä»·æ ¼ä½ç½®                          â•‘
      â•‘    > 0.3 â†’ å¤šå¤´ | < -0.3 â†’ ç©ºå¤´ | å…¶ä»– â†’ éœ‡è¡                â•‘
      â•‘                                                              â•‘
      â•‘  ã€æ¶¨è·Œå¹… (chg_20d)ã€‘                                         â•‘
      â•‘  = (ä»Šæ—¥æ”¶ç›˜ / 20æ—¥å‰æ”¶ç›˜ - 1) Ã— 100%                          â•‘
      â•‘                                                              â•‘
      â•‘  ã€æ³¢åŠ¨ç‡ (vol_20d)ã€‘                                          â•‘
      â•‘  = std(è¿‘20æ—¥æ¶¨è·Œå¹…%) Ã— âˆš252 / 100  â†’ å¹´åŒ–æ³¢åŠ¨ç‡               â•‘
      â•‘                                                              â•‘
      â•‘  ã€æ³¢åŠ¨ç‡åˆ†ä½ (vol_pctile_60d)ã€‘                                â•‘
      â•‘  = vol_20d åœ¨è¿‘60æ—¥æ»šåŠ¨20æ—¥æ³¢åŠ¨ç‡åºåˆ—ä¸­çš„åˆ†ä½æ•° (0~1)            â•‘
      â•‘                                                              â•‘
      â•‘  ã€Squeeze æ£€æµ‹ã€‘                                              â•‘
      â•‘  5æ—¥å‰æ³¢åŠ¨ç‡åˆ†ä½ < 30% ä¸” å½“å‰åˆ†ä½ > 50% â†’ Squeeze breakout     â•‘
      â•‘  å«ä¹‰ï¼šæ³¢åŠ¨ç‡ä»ä½ä½å¿«é€Ÿæ‰©å¼ ï¼Œè¶‹åŠ¿å¯åŠ¨ä¿¡å·                        â•‘
      â•‘                                                              â•‘
      â•‘  ã€é‡æ¯” (volume_ratio)ã€‘                                       â•‘
      â•‘  = æˆäº¤é¢MA20 / æˆäº¤é¢MA60   (>1.2 è§†ä¸ºæ”¾é‡)                   â•‘
      â•‘                                                              â•‘
      â•‘  ã€Donchian çªç ´ã€‘                                             â•‘
      â•‘  DC20: æ”¶ç›˜ä»· â‰¥ è¿‘20æ—¥æœ€é«˜ä»· â†’ çªç ´é«˜ç‚¹; â‰¤ è¿‘20æ—¥æœ€ä½ä»· â†’ çªç ´ä½ç‚¹ â•‘
      â•‘  DC60: åŒç†ç”¨60æ—¥çª—å£ï¼Œæ›´å¼ºçš„è¶‹åŠ¿ç¡®è®¤                           â•‘
      â•‘  dc20_position = (ä»·æ ¼-20æ—¥ä½) / (20æ—¥é«˜-20æ—¥ä½)  â†’ 0~1+       â•‘
      â•‘                                                              â•‘
      â•‘  ã€æŒä»“é‡å˜åŒ– (OI)ã€‘                                           â•‘
      â•‘  oi_chg_5d = (ä»Šæ—¥OI / 5æ—¥å‰OI - 1) Ã— 100%                    â•‘
      â•‘  ä»·é‡å…±æŒ¯åˆ¤å®š:                                                  â•‘
      â•‘    æ¶¨ + OIâ†‘(>3%) â†’ å¤šå¤´ç¡®è®¤ (æ–°å¤šå…¥åœº)                         â•‘
      â•‘    è·Œ + OIâ†‘(>3%) â†’ ç©ºå¤´ç¡®è®¤ (æ–°ç©ºå…¥åœº)                         â•‘
      â•‘    æ¶¨ + OIâ†“(<-3%) â†’ å¤šå¤´è¡°ç«­ (ç©ºå¤´å¹³ä»“é©±åŠ¨)                    â•‘
      â•‘    è·Œ + OIâ†“(<-3%) â†’ ç©ºå¤´è¡°ç«­ (å¤šå¤´å¹³ä»“é©±åŠ¨)                    â•‘
      â•‘                                                              â•‘
      â•‘  ã€RÂ² (è¶‹åŠ¿çº¿æ€§åº¦)ã€‘                                           â•‘
      â•‘  å¯¹è¿‘20æ—¥æ”¶ç›˜ä»·åšçº¿æ€§å›å½’, RÂ² = SS_xyÂ² / (SS_xx Ã— SS_yy)       â•‘
      â•‘  > 0.8 = è¶‹åŠ¿éå¸¸çº¿æ€§(ä¸€è·¯ä¸å›å¤´), é€‚åˆè¶‹åŠ¿è·Ÿè¸ªç­–ç•¥             â•‘
      â•‘                                                              â•‘
      â•‘  ã€è¯„åˆ† (trend_score)ã€‘                                        â•‘
      â•‘  æ‰€æœ‰å› å­å…ˆåšå…¨å“ç§ min-max æ ‡å‡†åŒ–åˆ° [0,1]                      â•‘
      â•‘  = 0.25Ã—|chg_20d|_norm                                        â•‘
      â•‘  + 0.20Ã—|ma_alignment|_norm                                    â•‘
      â•‘  + 0.15Ã—vol_pctile_60d                                        â•‘
      â•‘  + 0.15Ã—volume_ratio_norm                                      â•‘
      â•‘  + 0.15Ã—RÂ²_norm                                                â•‘
      â•‘  + 0.10Ã—min(dc20_position, 1.0)                                â•‘
      â•‘                                                              â•‘
      â•‘  ã€ä¿¡å· (æœ€å¤š5â˜…)ã€‘ æ»¡è¶³ä»¥ä¸‹æ¡ä»¶å„ +1â˜…:                         â•‘
      â•‘  â‘  è¶‹åŠ¿æ–¹å‘=å¤šå¤´æˆ–ç©ºå¤´ (ééœ‡è¡)                                â•‘
      â•‘  â‘¡ 20æ—¥Donchiançªç ´                                           â•‘
      â•‘  â‘¢ 60æ—¥Donchiançªç ´                                           â•‘
      â•‘  â‘£ æ”¾é‡ (é‡æ¯”>1.2)                                            â•‘
      â•‘  â‘¤ OIç¡®è®¤ (å¤šå¤´ç¡®è®¤ æˆ– ç©ºå¤´ç¡®è®¤)                               â•‘
      â•‘  â‘¥ Squeeze breakout                                           â•‘
      â•‘  â‘¦ é«˜çº¿æ€§åº¦ (RÂ²>0.8)                                          â•‘
      â•‘  (æœ€å¤šå–5â˜…)                                                    â•‘
      â•‘                                                              â•‘
      â•‘  ã€è¿‡æ»¤ã€‘æ—¥å‡æˆäº¤é¢MA20 â‰¤ 500ä¸‡ çš„å“ç§ä¸ä¸Šæ¦œ                    â•‘
      â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      -->
      <!-- å“ç§è¶‹åŠ¿æ‰«æ -->
      <div class="card">
        <div class="card-title"><span class="dot" style="background:#ef4444"></span> å“ç§è¶‹åŠ¿æ‰«æ Top 15</div>
        <div style="overflow-x:auto">
        <table style="width:100%;border-collapse:collapse;font-size:12px">
          <thead>
            <tr style="border-bottom:1px solid #e2e8f0;color:#64748b;text-align:left">
              <th style="padding:8px 4px">#</th>
              <th style="padding:8px 4px">å“ç§</th>
              <th style="padding:8px 4px">æ¿å—</th>
              <th style="padding:8px 4px">æ”¶ç›˜</th>
              <th style="padding:8px 4px">æ¶¨è·Œå¹…</th>
              <th style="padding:8px 4px">è¶‹åŠ¿</th>
              <th style="padding:8px 4px">æ³¢åŠ¨ç‡</th>
              <th style="padding:8px 4px">é‡æ¯”</th>
              <th style="padding:8px 4px">RÂ²</th>
              <th style="padding:8px 4px">OI(5d)</th>
              <th style="padding:8px 4px">è¯„åˆ†</th>
              <th style="padding:8px 4px">ä¿¡å·</th>
            </tr>
          </thead>
          <tbody>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿å¤šå¤´ï¼Œæ”¾é‡ | å¤šå¤´è¡°ç«­">
              <td style="padding:6px 4px;color:#94a3b8">1</td>
              <td style="padding:6px 4px;font-weight:700">FU</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">èƒ½æºåŒ–å·¥</td>
              <td style="padding:6px 4px">2,960.0</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">+14.2%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">å¤šå¤´</td>
              <td style="padding:6px 4px">38.2%</td>
              <td style="padding:6px 4px">1.34</td>
              <td style="padding:6px 4px;color:#f59e0b;font-weight:600">0.73</td>
              <td style="padding:6px 4px;color:#ef4444">-10.0%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:700">0.898</td>
              <td style="padding:6px 4px"><span style="background:#f59e0b;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…â˜…</span></td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿å¤šå¤´ï¼Œæ”¾é‡ï¼Œå¤šå¤´ç¡®è®¤ | å¤šå¤´ç¡®è®¤">
              <td style="padding:6px 4px;color:#94a3b8">2</td>
              <td style="padding:6px 4px;font-weight:700">LU</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">èƒ½æºåŒ–å·¥</td>
              <td style="padding:6px 4px">3,500.0</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">+11.6%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">å¤šå¤´</td>
              <td style="padding:6px 4px">36.8%</td>
              <td style="padding:6px 4px">1.26</td>
              <td style="padding:6px 4px;color:#f59e0b;font-weight:600">0.72</td>
              <td style="padding:6px 4px;color:#10b981">+57.2%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:700">0.867</td>
              <td style="padding:6px 4px"><span style="background:#10b981;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…â˜…â˜…</span></td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿å¤šå¤´ï¼Œæ”¾é‡ï¼Œå¤šå¤´ç¡®è®¤ | å¤šå¤´ç¡®è®¤">
              <td style="padding:6px 4px;color:#94a3b8">3</td>
              <td style="padding:6px 4px;font-weight:700">A</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">å†œäº§å“</td>
              <td style="padding:6px 4px">4,708.0</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">+8.8%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">å¤šå¤´</td>
              <td style="padding:6px 4px">14.2%</td>
              <td style="padding:6px 4px">1.42</td>
              <td style="padding:6px 4px;color:#f59e0b;font-weight:600">0.77</td>
              <td style="padding:6px 4px;color:#10b981">+7.8%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:700">0.827</td>
              <td style="padding:6px 4px"><span style="background:#10b981;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…â˜…â˜…</span></td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿å¤šå¤´ï¼Œæ”¾é‡ | å¤šå¤´è¡°ç«­">
              <td style="padding:6px 4px;color:#94a3b8">4</td>
              <td style="padding:6px 4px;font-weight:700">SC</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">èƒ½æºåŒ–å·¥</td>
              <td style="padding:6px 4px">488.4</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">+9.4%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">å¤šå¤´</td>
              <td style="padding:6px 4px">40.7%</td>
              <td style="padding:6px 4px">1.42</td>
              <td style="padding:6px 4px;color:#f59e0b;font-weight:600">0.64</td>
              <td style="padding:6px 4px;color:#ef4444">-10.8%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:700">0.825</td>
              <td style="padding:6px 4px"><span style="background:#f59e0b;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…â˜…</span></td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿å¤šå¤´ï¼Œå¤šå¤´ç¡®è®¤ | å¤šå¤´ç¡®è®¤">
              <td style="padding:6px 4px;color:#94a3b8">5</td>
              <td style="padding:6px 4px;font-weight:700">PG</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">èƒ½æºåŒ–å·¥</td>
              <td style="padding:6px 4px">4,519.0</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">+9.3%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">å¤šå¤´</td>
              <td style="padding:6px 4px">37.5%</td>
              <td style="padding:6px 4px">1.14</td>
              <td style="padding:6px 4px;color:#94a3b8;font-weight:600">0.36</td>
              <td style="padding:6px 4px;color:#10b981">+280.5%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:700">0.732</td>
              <td style="padding:6px 4px"><span style="background:#f59e0b;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…â˜…</span></td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿å¤šå¤´ï¼Œå¤šå¤´ç¡®è®¤ | å¤šå¤´ç¡®è®¤">
              <td style="padding:6px 4px;color:#94a3b8">6</td>
              <td style="padding:6px 4px;font-weight:700">RU</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">èƒ½æºåŒ–å·¥</td>
              <td style="padding:6px 4px">17,155.0</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">+8.2%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">å¤šå¤´</td>
              <td style="padding:6px 4px">25.3%</td>
              <td style="padding:6px 4px">1.08</td>
              <td style="padding:6px 4px;color:#94a3b8;font-weight:600">0.44</td>
              <td style="padding:6px 4px;color:#10b981">+14.1%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:700">0.732</td>
              <td style="padding:6px 4px"><span style="background:#f59e0b;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…â˜…</span></td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿å¤šå¤´ | å¤šå¤´è¡°ç«­">
              <td style="padding:6px 4px;color:#94a3b8">7</td>
              <td style="padding:6px 4px;font-weight:700">NR</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">èƒ½æºåŒ–å·¥</td>
              <td style="padding:6px 4px">13,765.0</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">+8.1%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">å¤šå¤´</td>
              <td style="padding:6px 4px">26.2%</td>
              <td style="padding:6px 4px">1.01</td>
              <td style="padding:6px 4px;color:#f59e0b;font-weight:600">0.52</td>
              <td style="padding:6px 4px;color:#ef4444">-24.9%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:700">0.725</td>
              <td style="padding:6px 4px"><span style="background:#3b82f6;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…</span></td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿å¤šå¤´ï¼Œ20æ—¥çªç ´é«˜ç‚¹ï¼Œ60æ—¥çªç ´é«˜ç‚¹ï¼Œå¤šå¤´ç¡®è®¤ | DC20:çªç ´é«˜ç‚¹ DC60:çªç ´é«˜ç‚¹ å¤šå¤´ç¡®è®¤">
              <td style="padding:6px 4px;color:#94a3b8">8</td>
              <td style="padding:6px 4px;font-weight:700">SN</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">æœ‰è‰²é‡‘å±</td>
              <td style="padding:6px 4px">453,240.0</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">+10.8%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">å¤šå¤´</td>
              <td style="padding:6px 4px">79.8%</td>
              <td style="padding:6px 4px">1.14</td>
              <td style="padding:6px 4px;color:#94a3b8;font-weight:600">0.10</td>
              <td style="padding:6px 4px;color:#10b981">+97.4%</td>
              <td style="padding:6px 4px;color:#f59e0b;font-weight:700">0.658</td>
              <td style="padding:6px 4px"><span style="background:#10b981;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…â˜…â˜…</span></td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿å¤šå¤´ï¼Œå¤šå¤´ç¡®è®¤ | å¤šå¤´ç¡®è®¤">
              <td style="padding:6px 4px;color:#94a3b8">9</td>
              <td style="padding:6px 4px;font-weight:700">CF</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">å†œäº§å“</td>
              <td style="padding:6px 4px">15,395.0</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">+4.5%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">å¤šå¤´</td>
              <td style="padding:6px 4px">17.7%</td>
              <td style="padding:6px 4px">1.15</td>
              <td style="padding:6px 4px;color:#94a3b8;font-weight:600">0.41</td>
              <td style="padding:6px 4px;color:#10b981">+20.8%</td>
              <td style="padding:6px 4px;color:#f59e0b;font-weight:700">0.651</td>
              <td style="padding:6px 4px"><span style="background:#f59e0b;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…â˜…</span></td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿å¤šå¤´ | å¤šå¤´è¡°ç«­">
              <td style="padding:6px 4px;color:#94a3b8">10</td>
              <td style="padding:6px 4px;font-weight:700">JD</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">å†œäº§å“</td>
              <td style="padding:6px 4px">3,267.0</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">+5.6%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">å¤šå¤´</td>
              <td style="padding:6px 4px">35.9%</td>
              <td style="padding:6px 4px">0.91</td>
              <td style="padding:6px 4px;color:#94a3b8;font-weight:600">0.29</td>
              <td style="padding:6px 4px;color:#ef4444">-26.4%</td>
              <td style="padding:6px 4px;color:#f59e0b;font-weight:700">0.635</td>
              <td style="padding:6px 4px"><span style="background:#3b82f6;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…</span></td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿å¤šå¤´ï¼Œå¤šå¤´ç¡®è®¤ï¼Œæ³¢åŠ¨ç‡squeeze | å¤šå¤´ç¡®è®¤ Squeeze">
              <td style="padding:6px 4px;color:#94a3b8">11</td>
              <td style="padding:6px 4px;font-weight:700">CS</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">å†œäº§å“</td>
              <td style="padding:6px 4px">2,667.0</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">+3.8%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">å¤šå¤´</td>
              <td style="padding:6px 4px">11.7%</td>
              <td style="padding:6px 4px">0.96</td>
              <td style="padding:6px 4px;color:#f59e0b;font-weight:600">0.53</td>
              <td style="padding:6px 4px;color:#10b981">+221.6%</td>
              <td style="padding:6px 4px;color:#f59e0b;font-weight:700">0.634</td>
              <td style="padding:6px 4px"><span style="background:#10b981;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…â˜…â˜…</span></td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿å¤šå¤´ï¼Œå¤šå¤´ç¡®è®¤ | å¤šå¤´ç¡®è®¤">
              <td style="padding:6px 4px;color:#94a3b8">12</td>
              <td style="padding:6px 4px;font-weight:700">CY</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">å†œäº§å“</td>
              <td style="padding:6px 4px">21,245.0</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">+3.6%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">å¤šå¤´</td>
              <td style="padding:6px 4px">15.3%</td>
              <td style="padding:6px 4px">1.07</td>
              <td style="padding:6px 4px;color:#94a3b8;font-weight:600">0.42</td>
              <td style="padding:6px 4px;color:#10b981">+38.4%</td>
              <td style="padding:6px 4px;color:#f59e0b;font-weight:700">0.633</td>
              <td style="padding:6px 4px"><span style="background:#f59e0b;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…â˜…</span></td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿å¤šå¤´">
              <td style="padding:6px 4px;color:#94a3b8">13</td>
              <td style="padding:6px 4px;font-weight:700">UR</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">èƒ½æºåŒ–å·¥</td>
              <td style="padding:6px 4px">1,847.0</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">+4.0%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">å¤šå¤´</td>
              <td style="padding:6px 4px">14.1%</td>
              <td style="padding:6px 4px">1.13</td>
              <td style="padding:6px 4px;color:#94a3b8;font-weight:600">0.46</td>
              <td style="padding:6px 4px;color:#94a3b8">-0.2%</td>
              <td style="padding:6px 4px;color:#f59e0b;font-weight:700">0.606</td>
              <td style="padding:6px 4px"><span style="background:#3b82f6;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…</span></td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿å¤šå¤´ï¼Œæ”¾é‡ | å¤šå¤´è¡°ç«­">
              <td style="padding:6px 4px;color:#94a3b8">14</td>
              <td style="padding:6px 4px;font-weight:700">RR</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">å†œäº§å“</td>
              <td style="padding:6px 4px">3,635.0</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">+1.6%</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">å¤šå¤´</td>
              <td style="padding:6px 4px">7.9%</td>
              <td style="padding:6px 4px">1.61</td>
              <td style="padding:6px 4px;color:#94a3b8;font-weight:600">0.45</td>
              <td style="padding:6px 4px;color:#ef4444">-4.5%</td>
              <td style="padding:6px 4px;color:#f59e0b;font-weight:700">0.554</td>
              <td style="padding:6px 4px"><span style="background:#f59e0b;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…â˜…</span></td>
            </tr>
            <tr style="border-bottom:1px solid #f1f5f9" title="è¶‹åŠ¿ç©ºå¤´ï¼Œç©ºå¤´ç¡®è®¤ï¼Œé«˜çº¿æ€§åº¦ | ç©ºå¤´ç¡®è®¤">
              <td style="padding:6px 4px;color:#94a3b8">15</td>
              <td style="padding:6px 4px;font-weight:700">I</td>
              <td style="padding:6px 4px;color:#64748b;font-size:11px">é»‘è‰²ç³»</td>
              <td style="padding:6px 4px">750.5</td>
              <td style="padding:6px 4px;color:#ef4444;font-weight:600">-4.6%</td>
              <td style="padding:6px 4px;color:#ef4444;font-weight:600">ç©ºå¤´</td>
              <td style="padding:6px 4px">16.2%</td>
              <td style="padding:6px 4px">0.90</td>
              <td style="padding:6px 4px;color:#10b981;font-weight:600">0.86</td>
              <td style="padding:6px 4px;color:#10b981">+9.8%</td>
              <td style="padding:6px 4px;color:#f59e0b;font-weight:700">0.535</td>
              <td style="padding:6px 4px"><span style="background:#10b981;color:#fff;padding:1px 6px;border-radius:8px;font-size:10px;font-weight:600">â˜…â˜…â˜…</span></td>
            </tr>
          </tbody>
        </table>
        </div>
      </div>

      <!-- æ¿å—è¶‹åŠ¿åˆ†å¸ƒ -->
      <div class="card">
        <div class="card-title"><span class="dot" style="background:#3b82f6"></span> æ¿å—è¶‹åŠ¿åˆ†å¸ƒ</div>
        <div style="display:flex;flex-wrap:wrap;gap:8px">
          <div style="flex:1;min-width:140px;background:#f8fafc;border-radius:8px;padding:12px;border-left:3px solid #374151">
            <div style="font-size:11px;color:#64748b;margin-bottom:4px">é»‘è‰²ç³»</div>
            <div style="font-size:18px;font-weight:700;color:#1e293b">0/8</div>
            <div style="font-size:10px;color:#94a3b8">è¶‹åŠ¿å æ¯” 0%</div>
          </div>
          <div style="flex:1;min-width:140px;background:#f8fafc;border-radius:8px;padding:12px;border-left:3px solid #f59e0b">
            <div style="font-size:11px;color:#64748b;margin-bottom:4px">æœ‰è‰²é‡‘å±</div>
            <div style="font-size:18px;font-weight:700;color:#1e293b">1/9</div>
            <div style="font-size:10px;color:#94a3b8">è¶‹åŠ¿å æ¯” 11%</div>
          </div>
          <div style="flex:1;min-width:140px;background:#f8fafc;border-radius:8px;padding:12px;border-left:3px solid #eab308">
            <div style="font-size:11px;color:#64748b;margin-bottom:4px">è´µé‡‘å±</div>
            <div style="font-size:18px;font-weight:700;color:#1e293b">0/2</div>
            <div style="font-size:10px;color:#94a3b8">è¶‹åŠ¿å æ¯” 0%</div>
          </div>
          <div style="flex:1;min-width:140px;background:#f8fafc;border-radius:8px;padding:12px;border-left:3px solid #8b5cf6">
            <div style="font-size:11px;color:#64748b;margin-bottom:4px">èƒ½æºåŒ–å·¥</div>
            <div style="font-size:18px;font-weight:700;color:#1e293b">2/21</div>
            <div style="font-size:10px;color:#94a3b8">è¶‹åŠ¿å æ¯” 10%</div>
          </div>
          <div style="flex:1;min-width:140px;background:#f8fafc;border-radius:8px;padding:12px;border-left:3px solid #10b981">
            <div style="font-size:11px;color:#64748b;margin-bottom:4px">å†œäº§å“</div>
            <div style="font-size:18px;font-weight:700;color:#1e293b">0/18</div>
            <div style="font-size:10px;color:#94a3b8">è¶‹åŠ¿å æ¯” 0%</div>
          </div>
        </div>
      </div>

      <!-- æŒ‡æ ‡è¯´æ˜ -->
      <div class="card" style="font-size:11px;color:var(--text-sub);line-height:1.7">
        <div class="card-title" style="font-size:12px;color:#64748b"><span class="dot" style="background:#94a3b8"></span> æŒ‡æ ‡è¯´æ˜</div>
        <p>â‘  CTAå‹å¥½åº¦ = 0.40Ã—è¶‹åŠ¿å æ¯” + 0.30Ã—æ³¢åŠ¨ç‡åˆ†ä½ + 0.30Ã—æˆäº¤é‡æ¯”ï¼Œæ ‡å‡†åŒ–åˆ°0-100</p>
        <p>â‘¡ è¶‹åŠ¿åˆ¤å®šï¼šMA5/10/20/60å¤šå¤´æ’åˆ— + ä»·æ ¼ä½ç½®ï¼Œç»¼åˆ &gt;0.3=å¤šå¤´ï¼Œ&lt;-0.3=ç©ºå¤´</p>
        <p>â‘¢ è¯„åˆ† = åŠ¨é‡25% + MAæ’åˆ—20% + æ³¢åŠ¨ç‡åˆ†ä½15% + é‡æ¯”15% + RÂ²çº¿æ€§åº¦15% + Donchianä½ç½®10%</p>
        <p>â‘£ ä¿¡å·(æœ€å¤š5â˜…)ï¼šè¶‹åŠ¿æ–¹å‘ + 20æ—¥çªç ´ + 60æ—¥çªç ´ + æ”¾é‡ + OIç¡®è®¤ + Squeeze + é«˜RÂ²</p>
        <p>â‘¦ RÂ²ï¼šè¿‘20æ—¥æ”¶ç›˜ä»·çº¿æ€§å›å½’æ‹Ÿåˆåº¦ï¼Œ&gt;0.8=è¶‹åŠ¿éå¸¸çº¿æ€§ï¼›OI(5d)ï¼š5æ—¥æŒä»“é‡å˜åŒ–ç‡</p>
        <p>â‘¤ é“œé‡‘æ¯”â†‘=ç»æµé¢„æœŸæ”¹å–„ï¼Œâ†“=é¿é™©å‡æ¸©ï¼›æ²¹é‡‘æ¯”â†‘=é€šèƒ€/éœ€æ±‚å¼ºï¼Œâ†“=è¡°é€€é¢„æœŸ</p>
        <p>â‘¥ å·¥ä¸šå“/å†œäº§å“ï¼šå·¥ä¸šç¯®å­(RB,CU,AL,MA,TA,EG) vs å†œäº§å“ç¯®å­(M,P,SR,C,OI,CF) ç­‰æƒå½’1å¤åˆ©æ¯”å€¼</p>
        <p style="margin-top:6px;color:#94a3b8">æ•°æ®æ¥æºï¼šTushare fut_daily è¿ç»­åˆçº¦ Â· æ›´æ–°ï¼š2026-02-27</p>
      </div>
      <iframe src="size_spread/fund_nav/fund_nav.html?tab=cta" class="embed-frame" style="height:700px;border:none;margin-top:10px;width:100%"></iframe>
      </div>
      <div class="strat-page" id="strat-convertible">
<!-- è½¬å€ºæŒ‡å¢ç­–ç•¥ç¯å¢ƒ â€” è‡ªåŠ¨æ³¨å…¥ -->
<div style="padding:0 4px">

<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
  <span style="font-size:13px;color:#888">ğŸ”„ è½¬å€ºæŒ‡å¢ Â· æ•°æ®æˆªè‡³ <b style="color:#2d3142">2026-02-27</b></span>
</div>

<!-- æ€»è§ˆå¡ç‰‡ -->
<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px;margin-bottom:16px">
  <div class="card" style="text-align:center;padding:14px 8px">
    <div style="font-size:11px;color:var(--text-sub)">è½¬å€ºå‹å¥½åº¦</div>
    <div style="font-size:28px;font-weight:700;color:#22c55e;margin:4px 0">75.5</div>
    <div style="font-size:10px;color:var(--text-sub)">0-100 ç»¼åˆè¯„åˆ†</div>
  </div>
  <div class="card" style="text-align:center;padding:14px 8px">
    <div style="font-size:11px;color:var(--text-sub)">æ´»è·ƒè½¬å€º</div>
    <div style="font-size:28px;font-weight:700;color:var(--text);margin:4px 0">369</div>
    <div style="font-size:10px;color:var(--text-sub)">åªï¼ˆæœ‰æˆäº¤ï¼‰</div>
  </div>
  <div class="card" style="text-align:center;padding:14px 8px">
    <div style="font-size:11px;color:var(--text-sub)">æˆäº¤é¢</div>
    <div style="font-size:28px;font-weight:700;color:var(--text);margin:4px 0">766</div>
    <div style="font-size:10px;color:var(--text-sub)">äº¿å…ƒ</div>
  </div>
  <div class="card" style="text-align:center;padding:14px 8px">
    <div style="font-size:11px;color:var(--text-sub)">DELTAä¸­ä½æ•°</div>
    <div style="font-size:28px;font-weight:700;color:var(--text);margin:4px 0">0.54</div>
    <div style="font-size:10px;color:var(--text-sub)">è‚¡æ€§æŒ‡æ ‡(0~1)</div>
  </div>
  <div class="card" style="text-align:center;padding:14px 8px">
    <div style="font-size:11px;color:var(--text-sub)">å‡ä»·åˆ†ä½</div>
    <div style="font-size:28px;font-weight:700;color:#22c55e;margin:4px 0">54%</div>
    <div style="font-size:10px;color:var(--text-sub)">è¶Šä½è¶Šä¾¿å®œ</div>
  </div>
  <div class="card" style="text-align:center;padding:14px 8px">
    <div style="font-size:11px;color:var(--text-sub)">æ•°æ®æ—¥æœŸ</div>
    <div style="font-size:16px;font-weight:600;color:var(--text);margin:8px 0">2026-02-27</div>
    <div style="font-size:10px;color:var(--text-sub)">57ä¸ªäº¤æ˜“æ—¥</div>
  </div>
</div>

<!-- å­åˆ†æ•°å¡ç‰‡ -->
<div class="card" style="padding:14px;margin-bottom:16px">
  <div style="font-size:13px;font-weight:600;color:var(--text);margin-bottom:10px">ğŸ“Š åˆ†é¡¹è¯„åˆ†</div>
  <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:8px">
    <div style="text-align:center">
      <div style="font-size:10px;color:var(--text-sub)">æ´»è·ƒåº¦</div>
      <div style="font-size:20px;font-weight:700;color:#22c55e">72</div>
      <div style="font-size:9px;color:var(--text-sub)">æˆäº¤é¢Ã—å°ç›˜ç›¸å…³</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:10px;color:var(--text-sub)">ä¼°å€¼</div>
      <div style="font-size:20px;font-weight:700;color:#f59e0b">--</div>
      <div style="font-size:9px;color:var(--text-sub)">ä»·æ ¼åˆ†ä½+æº¢ä»·ç‡</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:10px;color:var(--text-sub)">DELTA</div>
      <div style="font-size:20px;font-weight:700;color:#f59e0b">54</div>
      <div style="font-size:9px;color:var(--text-sub)">è½¬å€ºvsæ­£è‚¡è”åŠ¨</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:10px;color:var(--text-sub)">å€ºåº•</div>
      <div style="font-size:20px;font-weight:700;color:#22c55e">100</div>
      <div style="font-size:9px;color:var(--text-sub)">ç ´é¢å€¼å æ¯”</div>
    </div>
  </div>
</div>

<!-- å›¾è¡¨åŒºåŸŸ -->
<div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px">
  <div class="card" style="padding:14px">
    <div style="font-size:12px;font-weight:600;color:var(--text);margin-bottom:8px">è½¬å€ºæˆäº¤é¢ & å°ç›˜ç›¸å…³æ€§</div>
    <div style="position:relative;height:220px"><canvas id="cb-chart-activity"></canvas></div>
  </div>
  <div class="card" style="padding:14px">
    <div style="font-size:12px;font-weight:600;color:var(--text);margin-bottom:8px">æ´»è·ƒè½¬å€ºå‡ä»·åˆ†ä½ & è½¬è‚¡æº¢ä»·ç‡</div>
    <div style="position:relative;height:220px"><canvas id="cb-chart-valuation"></canvas></div>
  </div>
  <div class="card" style="padding:14px">
    <div style="font-size:12px;font-weight:600;color:var(--text);margin-bottom:8px">DELTAä¸­ä½æ•°èµ°åŠ¿</div>
    <div style="position:relative;height:220px"><canvas id="cb-chart-delta"></canvas></div>
  </div>
  <div class="card" style="padding:14px">
    <div style="font-size:12px;font-weight:600;color:var(--text);margin-bottom:8px">å€ºåº•ï¼šä»·æ ¼ä¸­ä½æ•° & ç ´é¢å€¼å æ¯”</div>
    <div style="position:relative;height:220px"><canvas id="cb-chart-floor"></canvas></div>
  </div>
</div>

<!-- æŒ‡æ ‡è¯´æ˜ -->
<div class="card" style="padding:14px;font-size:11px;color:var(--text-sub);line-height:1.7">
  <div style="font-size:12px;font-weight:600;color:var(--text);margin-bottom:6px">ğŸ“– æŒ‡æ ‡è¯´æ˜</div>
  â‘  <b>è½¬å€ºå‹å¥½åº¦</b>ï¼šæ´»è·ƒåº¦(25%) + ä¼°å€¼(25%) + DELTA(25%) + å€ºåº•(25%) ç»¼åˆè¯„åˆ†<br>
  â‘¡ <b>æ´»è·ƒåº¦</b>ï¼šè½¬å€ºæˆäº¤é¢å˜åŒ–ä¸ä¸­è¯1000/2000æ¶¨è·Œå¹…çš„20æ—¥æ»šåŠ¨ç›¸å…³ç³»æ•°ï¼Œé«˜ç›¸å…³=å°ç›˜æ´»è·ƒå¸¦åŠ¨è½¬å€º<br>
  â‘¢ <b>ä¼°å€¼æ°´ä½</b>ï¼šæˆäº¤é‡å‰50%è½¬å€ºçš„å¹³å‡ä»·æ ¼åœ¨å†å²çª—å£ä¸­çš„åˆ†ä½æ•° + å¹³å‡è½¬è‚¡æº¢ä»·ç‡ã€‚ä½åˆ†ä½+ä½æº¢ä»·=ä¾¿å®œä¸”è‚¡æ€§å¼º<br>
  â‘£ <b>DELTA</b>ï¼šæˆäº¤é‡å‰50%è½¬å€ºæ¶¨è·Œå¹… vs æ­£è‚¡æ¶¨è·Œå¹…çš„20æ—¥å›å½’æ–œç‡ä¸­ä½æ•°ã€‚é«˜DELTA=åè‚¡æ€§ï¼Œç­–ç•¥ç©ºé—´å¤§<br>
  â‘¤ <b>å€ºåº•</b>ï¼šå…¨å¸‚åœºè½¬å€ºä»·æ ¼ä¸­ä½æ•° + ç ´é¢å€¼(ï¼œ100å…ƒ)å æ¯”ã€‚ç ´é¢å€¼å°‘=å®‰å…¨å«åš<br>
  â‘¥ <b>è½¬è‚¡æº¢ä»·ç‡</b> = (è½¬å€ºä»·æ ¼ - è½¬è‚¡ä»·å€¼) / è½¬è‚¡ä»·å€¼ Ã— 100%ï¼Œè½¬è‚¡ä»·å€¼ = é¢å€¼/è½¬è‚¡ä»· Ã— æ­£è‚¡ä»·
</div>

</div>

<script>
var _cbChartsInited = false;
function initCbCharts() {
  if (_cbChartsInited) return;
  _cbChartsInited = true;

  var dates = ["2025-12-01", "2025-12-02", "2025-12-03", "2025-12-04", "2025-12-05", "2025-12-08", "2025-12-09", "2025-12-10", "2025-12-11", "2025-12-12", "2025-12-15", "2025-12-16", "2025-12-17", "2025-12-18", "2025-12-19", "2025-12-22", "2025-12-23", "2025-12-24", "2025-12-25", "2025-12-26", "2025-12-29", "2025-12-30", "2025-12-31", "2026-01-05", "2026-01-06", "2026-01-07", "2026-01-08", "2026-01-09", "2026-01-12", "2026-01-13", "2026-01-14", "2026-01-15", "2026-01-16", "2026-01-19", "2026-01-20", "2026-01-21", "2026-01-22", "2026-01-23", "2026-01-26", "2026-01-27", "2026-01-28", "2026-01-29", "2026-01-30", "2026-02-02", "2026-02-03", "2026-02-04", "2026-02-05", "2026-02-06", "2026-02-09", "2026-02-10", "2026-02-11", "2026-02-12", "2026-02-13", "2026-02-24", "2026-02-25", "2026-02-26", "2026-02-27"];
  var cbAmount = [553.29, 468.56, 541.1, 525.56, 601.53, 652.92, 592.77, 544.33, 568.14, 673.67, 593.94, 578.62, 632.44, 657.13, 718.44, 704.67, 713.32, 758.99, 885.25, 940.52, 780.9, 830.53, 818.9, 850.75, 959.68, 928.06, 979.67, 1018.66, 1084.74, 1038.44, 1114.29, 953.71, 1034.58, 869.68, 883.43, 912.89, 957.74, 1040.98, 962.16, 908.73, 836.81, 870.04, 932.63, 850.83, 975.48, 873.32, 740.57, 887.48, 857.98, 765.36, 740.98, 833.88, 758.73, 649.37, 795.61, 734.08, 765.91];
  var corr1000 = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 0.4954, 0.4908, 0.43, 0.5537, 0.5134, 0.5141, 0.4893, 0.4613, 0.4566, 0.4854, 0.5442, 0.4905, 0.4915, 0.4354, 0.4254, 0.4011, 0.4163, 0.4212, 0.435, 0.481, 0.4938, 0.4926, 0.4733, 0.3989, 0.4607, 0.5181, 0.5138, 0.5516, 0.4696, 0.3971, 0.375, 0.3644, 0.3934, 0.4299, 0.4574, 0.4174, 0.4081, 0.3986];
  var corr2000 = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 0.4392, 0.4247, 0.3989, 0.5156, 0.4871, 0.4614, 0.4293, 0.4021, 0.3942, 0.4437, 0.5141, 0.5047, 0.5624, 0.5364, 0.4317, 0.3888, 0.3994, 0.4125, 0.4252, 0.4527, 0.4768, 0.5181, 0.4919, 0.4618, 0.5103, 0.5702, 0.56, 0.577, 0.5299, 0.4656, 0.4608, 0.447, 0.408, 0.4323, 0.5142, 0.4677, 0.4594, 0.4477];
  var avgPrice = [164.52, 162.71, 162.28, 161.72, 164.39, 166.42, 164.29, 165.5, 163.52, 167.6, 166.14, 160.38, 165.68, 166.0, 167.2, 169.11, 168.46, 171.93, 174.19, 173.5, 173.22, 174.01, 174.5, 175.27, 173.41, 181.82, 173.76, 186.89, 180.55, 180.14, 179.67, 181.9, 191.9, 185.19, 182.73, 187.0, 189.38, 186.58, 181.11, 185.83, 188.33, 186.92, 181.64, 180.79, 188.64, 183.8, 185.23, 188.42, 188.84, 187.44, 187.12, 188.4, 191.24, 181.53, 185.27, 182.4, 181.45];
  var avgPremium = [25.37, 25.47, 26.67, 24.95, 24.39, 26.13, 25.12, 25.39, 26.23, 26.51, 26.87, 27.91, 28.88, 28.16, 30.45, 28.03, 30.58, 27.22, 28.22, 29.24, 28.62, 30.06, 29.23, 31.7, 32.07, 33.99, 32.79, 32.58, 33.89, 32.95, 31.96, 35.43, 35.1, 33.53, 30.98, 33.89, 32.85, 33.83, 33.03, 35.82, 34.79, 36.36, 33.17, 34.43, 35.05, 30.75, 32.83, 36.07, 34.5, 33.93, 31.71, 33.64, 33.5, null, null, null, null];
  var pricePct = [50.0, 0.0, 0.0, 0.0, 60.0, 83.3, 42.9, 75.0, 33.3, 90.0, 72.7, 0.0, 69.2, 71.4, 86.7, 93.8, 88.2, 94.4, 94.7, 90.0, 85.7, 90.9, 95.7, 95.8, 76.0, 96.2, 77.8, 96.4, 89.7, 86.7, 83.9, 93.8, 97.0, 91.2, 88.6, 94.4, 94.6, 86.8, 74.4, 85.0, 92.7, 88.1, 69.8, 65.9, 93.3, 76.1, 78.7, 91.7, 93.9, 86.0, 84.3, 88.5, 96.2, 57.4, 70.9, 62.5, 54.4];
  var deltaMed = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 0.4377, 0.4266, 0.429, 0.4301, 0.4482, 0.4547, 0.4376, 0.4439, 0.4428, 0.4933, 0.4879, 0.4749, 0.4953, 0.4764, 0.4945, 0.4927, 0.4892, 0.502, 0.4966, 0.4798, 0.4804, 0.4724, 0.4919, 0.5211, 0.5339, 0.5194, 0.5357, 0.5386, 0.5397, 0.5515, 0.5277, 0.5424, 0.5178, 0.5091, 0.524, 0.508, 0.5426];
  var medianPrice = [131.49, 130.59, 130.48, 130.3, 131.66, 132.36, 131.25, 132.04, 130.98, 130.94, 130.94, 129.95, 130.8, 131.3, 132.14, 133.09, 132.47, 133.31, 134.24, 134.01, 133.03, 133.45, 133.74, 135.44, 137.42, 137.17, 137.44, 138.32, 139.92, 137.95, 138.2, 138.43, 139.07, 139.73, 138.99, 140.55, 142.24, 143.19, 141.02, 140.96, 142.73, 141.48, 140.01, 136.72, 140.36, 140.11, 139.52, 140.98, 142.01, 142.0, 142.41, 143.29, 142.06, 143.57, 144.31, 143.68, 142.67];
  var belowPar = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.3, 0.3, 0.3, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];

  var baseOpts = {
    responsive: true,
    maintainAspectRatio: false,
    plugins: { legend: { labels: { color:'#94a3b8', font:{size:10} } } },
    scales: {
      x: { ticks: { color:'#64748b', font:{size:9}, maxRotation:45 } },
      y: { ticks: { color:'#64748b', font:{size:9} }, grid:{color:'rgba(148,163,184,0.1)'} }
    }
  };

  // å›¾1ï¼šæˆäº¤é¢ + ç›¸å…³ç³»æ•°
  new Chart(document.getElementById('cb-chart-activity'), {
    type:'line',
    data: {
      labels: dates,
      datasets: [
        { label:'æˆäº¤é¢(äº¿)', data:cbAmount, borderColor:'#3b82f6', backgroundColor:'rgba(59,130,246,0.1)', fill:true, tension:0.3, pointRadius:0, yAxisID:'y' },
        { label:'ç›¸å…³ç³»æ•°(1000)', data:corr1000, borderColor:'#f59e0b', borderDash:[4,2], tension:0.3, pointRadius:0, yAxisID:'y1' },
        { label:'ç›¸å…³ç³»æ•°(2000)', data:corr2000, borderColor:'#ef4444', borderDash:[4,2], tension:0.3, pointRadius:0, yAxisID:'y1' }
      ]
    },
    options: { ...baseOpts, scales: {
      ...baseOpts.scales,
      y: { position:'left', ticks:{color:'#64748b',font:{size:9}}, grid:{color:'rgba(148,163,184,0.1)'} },
      y1: { position:'right', min:-1, max:1, ticks:{color:'#64748b',font:{size:9}}, grid:{drawOnChartArea:false} }
    } }
  });

  // å›¾2ï¼šå‡ä»·åˆ†ä½ + æº¢ä»·ç‡
  new Chart(document.getElementById('cb-chart-valuation'), {
    type:'line',
    data: {
      labels: dates,
      datasets: [
        { label:'ä»·æ ¼åˆ†ä½(%)', data:pricePct, borderColor:'#3b82f6', tension:0.3, pointRadius:0, yAxisID:'y' },
        { label:'è½¬è‚¡æº¢ä»·ç‡(%)', data:avgPremium, borderColor:'#ef4444', tension:0.3, pointRadius:0, yAxisID:'y1' }
      ]
    },
    options: { ...baseOpts, scales: {
      ...baseOpts.scales,
      y: { position:'left', min:0, max:100, ticks:{color:'#64748b',font:{size:9}}, grid:{color:'rgba(148,163,184,0.1)'} },
      y1: { position:'right', ticks:{color:'#64748b',font:{size:9}}, grid:{drawOnChartArea:false} }
    } }
  });

  // å›¾3ï¼šDELTAä¸­ä½æ•°
  new Chart(document.getElementById('cb-chart-delta'), {
    type:'line',
    data: {
      labels: dates,
      datasets: [
        { label:'DELTAä¸­ä½æ•°', data:deltaMed, borderColor:'#22c55e', backgroundColor:'rgba(34,197,94,0.1)', fill:true, tension:0.3, pointRadius:0 }
      ]
    },
    options: { ...baseOpts, scales: {
      ...baseOpts.scales,
      y: { min:0, max:1, ticks:{color:'#64748b',font:{size:9}}, grid:{color:'rgba(148,163,184,0.1)'} }
    } }
  });

  // å›¾4ï¼šä»·æ ¼ä¸­ä½æ•° + ç ´é¢å€¼å æ¯”
  new Chart(document.getElementById('cb-chart-floor'), {
    type:'line',
    data: {
      labels: dates,
      datasets: [
        { label:'ä»·æ ¼ä¸­ä½æ•°', data:medianPrice, borderColor:'#3b82f6', tension:0.3, pointRadius:0, yAxisID:'y' },
        { label:'ç ´é¢å€¼å æ¯”(%)', data:belowPar, borderColor:'#ef4444', borderDash:[4,2], tension:0.3, pointRadius:0, yAxisID:'y1' }
      ]
    },
    options: { ...baseOpts, scales: {
      ...baseOpts.scales,
      y: { position:'left', ticks:{color:'#64748b',font:{size:9}}, grid:{color:'rgba(148,163,184,0.1)'} },
      y1: { position:'right', min:0, ticks:{color:'#64748b',font:{size:9}}, grid:{drawOnChartArea:false} }
    } }
  });
}
</script>
<iframe src="size_spread/fund_nav/fund_nav.html?tab=convertible" class="embed-frame" style="height:700px;border:none;margin-top:10px;width:100%"></iframe>
</div>
      <div class="strat-page" id="strat-arbitrage">
        <iframe src="env_fit/arbitrage/arbitrage.html" style="width:100%;min-height:800px;border:none"></iframe>
        <iframe src="size_spread/fund_nav/fund_nav.html?tab=arbitrage" class="embed-frame" style="height:700px;border:none;margin-top:10px;width:100%"></iframe>
      </div>
    </div><!-- /page-env-fit -->

    <!-- â•â• èµ„é‡‘æµä¸å¾®è§‚ç»“æ„ â•â• -->
    <div class="module-page" id="page-fund-flow">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;flex-wrap:wrap;gap:8px">
        <div class="strat-tabs" style="margin-bottom:0">
          <div class="strat-tab active" data-strat="patient-capital">ğŸ›ï¸ è€å¿ƒèµ„æœ¬æŒç­¹</div>
          <div class="strat-tab" data-strat="crowding">ğŸ“¡ æ‹¥æŒ¤åº¦ç›‘æ§</div>
          <div class="strat-tab" data-strat="option-sentiment">ğŸ¯ æœŸæƒå¼‚å¸¸å€¼ç›‘æ§</div>
        </div>
        <div style="display:flex;gap:6px;align-items:center">
          <button id="refreshBtnFlow" onclick="refreshFlowTab()" style="background:#fff;border:1px solid #d1d5db;border-radius:8px;padding:6px 14px;font-size:12px;font-weight:600;color:#555;cursor:pointer;display:flex;align-items:center;gap:5px;transition:all .15s;white-space:nowrap" onmouseover="if(!this.disabled){this.style.borderColor='#6366f1';this.style.color='#6366f1'}" onmouseout="if(!this.disabled){this.style.borderColor='#d1d5db';this.style.color='#555'}">ğŸ”„ åˆ·æ–°å½“å‰</button>
        </div>
      </div>

      <div class="strat-page active" id="strat-patient-capital">
        <iframe src="micro_flow/patient_capital/patient_capital.html" class="embed-frame" style="height:calc(100vh - var(--header-h) - 100px)"></iframe>
      </div>
      <div class="strat-page" id="strat-crowding">
        <iframe src="micro_flow/crowding/crowding.html" class="embed-frame" style="height:calc(100vh - var(--header-h) - 100px)"></iframe>
      </div>
      <div class="strat-page" id="strat-option-sentiment">
        <iframe src="micro_flow/option_sentiment/option_sentiment.html" class="embed-frame" style="height:calc(100vh - var(--header-h) - 100px)"></iframe>
      </div>
    </div><!-- /page-fund-flow -->

    <!-- â•â• å®è§‚ä¸æµåŠ¨æ€§ â•â• -->
    <div class="module-page" id="page-macro">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;flex-wrap:wrap;gap:8px">
        <div class="strat-tabs" style="margin-bottom:0">
          <div class="strat-tab active" data-strat="liquidity">ğŸ’§ å¢ƒå†…æµåŠ¨æ€§</div>
          <div class="strat-tab" data-strat="rates">ğŸ“Š å…¨çƒåˆ©ç‡ä¸æ±‡ç‡</div>
          <div class="strat-tab" data-strat="fundamentals">ğŸ“ˆ ç»æµåŸºæœ¬é¢</div>
        </div>
        <div style="display:flex;gap:6px;align-items:center">
          <button id="refreshBtnMacro" onclick="refreshMacroTab()" style="background:#fff;border:1px solid #d1d5db;border-radius:8px;padding:6px 14px;font-size:12px;font-weight:600;color:#555;cursor:pointer;display:flex;align-items:center;gap:5px;transition:all .15s;white-space:nowrap" onmouseover="if(!this.disabled){this.style.borderColor='#6366f1';this.style.color='#6366f1'}" onmouseout="if(!this.disabled){this.style.borderColor='#d1d5db';this.style.color='#555'}">ğŸ”„ åˆ·æ–°å½“å‰</button>
        </div>
      </div>
      <div class="strat-page active" id="strat-liquidity">
        <iframe src="macro/liquidity/liquidity.html" class="embed-frame" style="height:calc(100vh - var(--header-h) - 100px)"></iframe>
      </div>
      <div class="strat-page" id="strat-rates">
        <iframe src="macro/rates/rates.html" class="embed-frame" style="height:calc(100vh - var(--header-h) - 100px)"></iframe>
      </div>
      <div class="strat-page" id="strat-fundamentals">
        <iframe src="macro/fundamentals/fundamentals.html" class="embed-frame" style="height:calc(100vh - var(--header-h) - 100px)"></iframe>
      </div>
    </div><!-- /page-macro -->

    <!-- â•â• ä¸­è§‚æ™¯æ°” â•â• -->
    <div class="module-page" id="page-meso">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;flex-wrap:wrap;gap:8px">
        <div class="strat-tabs" style="margin-bottom:0">
          <div class="strat-tab active" data-strat="chain-prosperity">ğŸ­ äº§ä¸šé“¾æ™¯æ°”</div>
        </div>
        <div style="display:flex;gap:6px;align-items:center">
          <button id="refreshBtnMeso" onclick="refreshMesoTab()" style="background:#fff;border:1px solid #d1d5db;border-radius:8px;padding:6px 14px;font-size:12px;font-weight:600;color:#555;cursor:pointer;display:flex;align-items:center;gap:5px;transition:all .15s;white-space:nowrap" onmouseover="if(!this.disabled){this.style.borderColor='#6366f1';this.style.color='#6366f1'}" onmouseout="if(!this.disabled){this.style.borderColor='#d1d5db';this.style.color='#555'}">ğŸ”„ åˆ·æ–°å½“å‰</button>
        </div>
      </div>
      <div class="strat-page active" id="strat-chain-prosperity">
        <iframe src="meso/chain_prosperity/chain_prosperity.html" class="embed-frame" style="height:calc(100vh - var(--header-h) - 100px)"></iframe>
      </div>
    </div><!-- /page-meso -->

    <!-- â•â• çº¢ç¯é¢„è­¦ â•â• -->
    <div class="module-page" id="page-alerts">
      <div style="display:flex;justify-content:flex-end;margin-bottom:12px">
        <button id="refreshBtnAlerts" onclick="refreshAlertsTab()" style="background:#fff;border:1px solid #d1d5db;border-radius:8px;padding:6px 14px;font-size:12px;font-weight:600;color:#555;cursor:pointer;display:flex;align-items:center;gap:5px;transition:all .15s;white-space:nowrap" onmouseover="if(!this.disabled){this.style.borderColor='#dc2626';this.style.color='#dc2626'}" onmouseout="if(!this.disabled){this.style.borderColor='#d1d5db';this.style.color='#555'}">ğŸ”„ åˆ·æ–°æ•°æ®</button>
      </div>
      <iframe src="alerts/alerts.html" class="embed-frame" style="height:calc(100vh - var(--header-h) - 80px)"></iframe>
    </div><!-- /page-alerts -->
<script>
(function(){
  var titles={'overview':'ä»ªè¡¨ç›˜','style-spread':'é£æ ¼è½§å·®','env-fit':'ç­–ç•¥ç¯å¢ƒé€‚é…åº¦','fund-flow':'èµ„é‡‘æµä¸å¾®è§‚ç»“æ„','macro':'å®è§‚ä¸æµåŠ¨æ€§','meso':'ä¸­è§‚æ™¯æ°”','alerts':'çº¢ç¯é¢„è­¦','report':'æ¯æ—¥æŠ¥å‘Š'};

  // ç§»åŠ¨ç«¯æ±‰å ¡èœå•
  var sidebar=document.querySelector('.sidebar');
  var overlay=document.getElementById('sidebarOverlay');
  var toggle=document.getElementById('menuToggle');
  function openSidebar(){sidebar.classList.add('open');overlay.classList.add('open')}
  function closeSidebar(){sidebar.classList.remove('open');overlay.classList.remove('open')}
  if(toggle)toggle.addEventListener('click',openSidebar);
  if(overlay)overlay.addEventListener('click',closeSidebar);

  // ä¾§è¾¹æ æ¨¡å—åˆ‡æ¢
  document.querySelectorAll('.nav-item[data-module]').forEach(function(item){
    item.addEventListener('click',function(){
      var mod=this.getAttribute('data-module');
      var page=document.getElementById('page-'+mod);
      if(!page)return;
      closeSidebar();
      document.querySelectorAll('.nav-item').forEach(function(n){n.classList.remove('active')});
      document.querySelectorAll('.module-page').forEach(function(p){p.classList.remove('active')});
      this.classList.add('active');
      page.classList.add('active');
      document.getElementById('pageTitle').textContent=titles[mod]||mod;
    });
  });

  // ç­–ç•¥ tab åˆ‡æ¢ï¼ˆé™å®šåœ¨åŒä¸€ module-page å†…ï¼‰
  document.querySelectorAll('.strat-tab[data-strat]').forEach(function(tab){
    tab.addEventListener('click',function(){
      var strat=this.getAttribute('data-strat');
      var page=document.getElementById('strat-'+strat);
      if(!page)return;
      var container=this.closest('.module-page');
      if(container){
        container.querySelectorAll('.strat-tab').forEach(function(t){t.classList.remove('active')});
        container.querySelectorAll('.strat-page').forEach(function(p){p.classList.remove('active')});
      } else {
        document.querySelectorAll('.strat-tab').forEach(function(t){t.classList.remove('active')});
        document.querySelectorAll('.strat-page').forEach(function(p){p.classList.remove('active')});
      }
      this.classList.add('active');
      page.classList.add('active');
      // æ‡’åŠ è½½å›¾è¡¨
      if(strat==='momentum-stock'&&typeof initMsCharts==='function')initMsCharts();
      if(strat==='cta'&&typeof initCtaCharts==='function')initCtaCharts();
      if(strat==='convertible'&&typeof initCbCharts==='function')initCbCharts();
    });
  });

  // åˆ·æ–°å½“å‰ tab â€” è°ƒç”¨ refresh_server APIï¼ˆè‡ªåŠ¨é€‰æ‹©æœ¬åœ°æˆ– tunnelï¼‰
  var REFRESH_API=null;
  (function(){
    // ä¼˜å…ˆå°è¯•æœ¬æœº
    fetch('http://localhost:9876/api/status',{mode:'cors'}).then(function(r){
      if(r.ok){REFRESH_API='http://localhost:9876/api/refresh/';console.log('[refresh] using localhost')}
    }).catch(function(){
      // fallback: è¯» tunnel_url.json
      var base=document.currentScript?new URL('.',document.currentScript.src).href:'';
      fetch(base+'tunnel_url.json?t='+Date.now()).then(function(r){return r.json()}).then(function(d){
        if(d&&d.url){REFRESH_API=d.url+'/api/refresh/';console.log('[refresh] using tunnel:',d.url)}
      }).catch(function(){console.warn('[refresh] no API available')});
    });
  })();
  window.refreshActiveTab=function(){
    var btn=document.getElementById('refreshBtn');
    // æ‰¾åˆ°å½“å‰æ¿€æ´»çš„ tab/module å
    var strat=null;
    // 1. å…ˆçœ‹å½“å‰æ˜¯å¦åœ¨ç­–ç•¥ç¯å¢ƒçš„ strat-tab
    var activeTab=document.querySelector('.strat-tab.active');
    if(activeTab) strat=activeTab.getAttribute('data-strat');
    // 2. å¦‚æœä¸åœ¨ç­–ç•¥tabï¼Œçœ‹ä¾§è¾¹æ å½“å‰æ¨¡å—
    if(!strat){
      var activeMod=document.querySelector('.nav-item.active');
      if(activeMod) strat=activeMod.getAttribute('data-module');
    }
    if(!strat){btn.innerHTML='âŒ æœªé€‰ä¸­æ¨¡å—';setTimeout(function(){btn.innerHTML='ğŸ”„ åˆ·æ–°å½“å‰';},2000);return;}

    if(!REFRESH_API){
      btn.innerHTML='âŒ åˆ·æ–°æœåŠ¡æœªè¿æ¥';
      setTimeout(function(){btn.innerHTML=origText;btn.disabled=false;btn.style.opacity='1';btn.style.cursor='pointer'},2000);
      return;
    }

    // ç¦ç”¨æŒ‰é’® + æ˜¾ç¤ºåŠ è½½çŠ¶æ€
    var origText=btn.innerHTML;
    btn.disabled=true;
    btn.innerHTML='â³ åˆ·æ–°ä¸­...';
    btn.style.opacity='0.6';
    btn.style.cursor='wait';

    fetch(REFRESH_API+strat,{method:'POST'})
      .then(function(r){return r.json()})
      .then(function(d){
        if(d.ok){
          btn.innerHTML='âœ… å®Œæˆï¼';
          // åˆ·æ–°é¡µé¢ä»¥åŠ è½½æ–°æ•°æ®
          setTimeout(function(){location.reload(true)},1000);
        }else if(d.error){
          btn.innerHTML='âš ï¸ '+d.error;
          setTimeout(function(){btn.innerHTML=origText;btn.disabled=false;btn.style.opacity='1';btn.style.cursor='pointer'},3000);
        }else{
          btn.innerHTML='âŒ è„šæœ¬å¤±è´¥';
          console.error('refresh logs:',d.logs);
          setTimeout(function(){btn.innerHTML=origText;btn.disabled=false;btn.style.opacity='1';btn.style.cursor='pointer'},3000);
        }
      })
      .catch(function(e){
        btn.innerHTML='âŒ æœåŠ¡æœªå¯åŠ¨';
        console.error('refresh error:',e);
        setTimeout(function(){btn.innerHTML=origText;btn.disabled=false;btn.style.opacity='1';btn.style.cursor='pointer'},3000);
      });
  };

  // â•â•â• é€šç”¨æ¨¡å—åˆ·æ–°ï¼ˆç»™ä¾§è¾¹æ æ¨¡å—é¡µé¢ç”¨ï¼‰â•â•â•
  window.refreshModule=function(modName,btn){
    var origText=btn.innerHTML;
    if(!REFRESH_API){
      btn.innerHTML='âŒ åˆ·æ–°æœåŠ¡æœªè¿æ¥';
      setTimeout(function(){btn.innerHTML=origText;btn.disabled=false;btn.style.opacity='1';btn.style.cursor='pointer'},2000);
      return;
    }
    btn.disabled=true;btn.innerHTML='â³ åˆ·æ–°ä¸­...';btn.style.opacity='0.6';btn.style.cursor='wait';
    fetch(REFRESH_API+modName,{method:'POST'})
      .then(function(r){return r.json()})
      .then(function(d){
        if(d.ok){
          btn.innerHTML='âœ… å®Œæˆï¼';
          setTimeout(function(){location.reload(true)},1000);
        }else{
          btn.innerHTML='âš ï¸ '+(d.error||'è„šæœ¬å¤±è´¥');
          setTimeout(function(){btn.innerHTML=origText;btn.disabled=false;btn.style.opacity='1';btn.style.cursor='pointer'},3000);
        }
      })
      .catch(function(e){
        btn.innerHTML='âŒ æœåŠ¡æœªå¯åŠ¨';
        setTimeout(function(){btn.innerHTML=origText;btn.disabled=false;btn.style.opacity='1';btn.style.cursor='pointer'},3000);
      });
  };

  // â•â•â• èµ„é‡‘æµæ¨¡å—åˆ·æ–° â•â•â•
  window.refreshFlowTab=function(){
    var btn=document.getElementById('refreshBtnFlow');
    var activeTab=document.querySelector('#page-fund-flow .strat-tab.active');
    var strat=activeTab?activeTab.getAttribute('data-strat'):'patient-capital';
    refreshModule(strat,btn);
  };

  // â•â•â• å®è§‚æ¨¡å—åˆ·æ–° â•â•â•
  window.refreshMacroTab=function(){
    var btn=document.getElementById('refreshBtnMacro');
    var activeTab=document.querySelector('#page-macro .strat-tab.active');
    var strat=activeTab?activeTab.getAttribute('data-strat'):'liquidity';
    refreshModule(strat,btn);
  };

  // â•â•â• ä¸­è§‚æ™¯æ°”æ¨¡å—åˆ·æ–° â•â•â•
  window.refreshMesoTab=function(){
    var btn=document.getElementById('refreshBtnMeso');
    var activeTab=document.querySelector('#page-meso .strat-tab.active');
    var strat=activeTab?activeTab.getAttribute('data-strat'):'chain-prosperity';
    refreshModule(strat,btn);
  };

  // â•â•â• çº¢ç¯é¢„è­¦åˆ·æ–° â•â•â•
  window.refreshAlertsTab=function(){
    var btn=document.getElementById('refreshBtnAlerts');
    refreshModule('alerts',btn);
  };

  // â•â•â• å…¨éƒ¨ä¾æ¬¡åˆ·æ–° â•â•â•
  var ALL_TABS = [
    {strat:'momentum-stock', name:'å¼ºåŠ¿è‚¡'},
    {strat:'quant-stock', name:'å®½åŸºé‡åŒ–'},
    {strat:'style-spread', name:'é£æ ¼è½§å·®'},
    {strat:'cta', name:'å•†å“CTA'},
    {strat:'convertible', name:'è½¬å€º'},
    {strat:'arbitrage', name:'å¥—åˆ©'},
  ];
  window.refreshAllTabs=function(){
    var btn=document.getElementById('refreshAllBtn');
    var origText=btn.innerHTML;
    if(!REFRESH_API){
      btn.innerHTML='âŒ åˆ·æ–°æœåŠ¡æœªè¿æ¥';
      setTimeout(function(){btn.innerHTML=origText;},2000);
      return;
    }
    // ç¦ç”¨ä¸¤ä¸ªæŒ‰é’®
    btn.disabled=true;btn.style.opacity='0.6';btn.style.cursor='wait';
    var btnSingle=document.getElementById('refreshBtn');
    if(btnSingle){btnSingle.disabled=true;btnSingle.style.opacity='0.4';}

    var total=ALL_TABS.length;
    var done=0;var failed=[];var startTime=Date.now();

    function next(idx){
      if(idx>=total){
        // å®Œæˆ
        var elapsed=((Date.now()-startTime)/1000).toFixed(0);
        if(failed.length===0){
          btn.innerHTML='âœ… å…¨éƒ¨å®Œæˆ ('+elapsed+'s)';
        }else{
          btn.innerHTML='âš ï¸ '+failed.length+'ä¸ªå¤±è´¥ ('+elapsed+'s)';
        }
        setTimeout(function(){
          btn.innerHTML=origText;btn.disabled=false;btn.style.opacity='1';btn.style.cursor='pointer';
          if(btnSingle){btnSingle.disabled=false;btnSingle.style.opacity='1';}
          location.reload(true);
        },2000);
        return;
      }
      var tab=ALL_TABS[idx];
      btn.innerHTML='â³ '+(idx+1)+'/'+total+' '+tab.name+'...';
      fetch(REFRESH_API+tab.strat,{method:'POST'})
        .then(function(r){return r.json()})
        .then(function(d){
          if(d.ok){done++;}else{failed.push(tab.name);}
          next(idx+1);
        })
        .catch(function(e){
          console.error('refresh-all error on '+tab.name,e);
          failed.push(tab.name);
          next(idx+1);
        });
    }
    next(0);
  };

  // æ›´æ–°æ—¶é—´
  document.getElementById('updateTime').textContent='æ›´æ–°: '+new Date().toLocaleString('zh-CN',{month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit'});
})();
</script>

<!-- â•â•â• è®¤è¯é€»è¾‘ â•â•â• -->
<script>
(function(){
  var AUTH_API = null;
  var currentUser = null;

  // å‘ç° API åœ°å€ï¼ˆä¸åˆ·æ–°æŒ‰é’®åŒé€»è¾‘ï¼‰
  function discoverAPI(cb){
    // ä¼˜å…ˆåŒæºï¼ˆé€šè¿‡ tunnel è®¿é—®æ—¶ï¼ŒAPI å°±åœ¨åŒåŸŸï¼‰
    fetch('/api/status').then(function(r){
      if(r.ok){AUTH_API='';cb();return;}
      throw new Error('not ok');
    }).catch(function(){
      // å†è¯• localhost
      fetch('http://localhost:9876/api/status',{mode:'cors'}).then(function(r){
        if(r.ok){AUTH_API='http://localhost:9876';cb();}else{cb();}
      }).catch(function(){
        fetch('tunnel_url.json?t='+Date.now()).then(function(r){return r.json()}).then(function(d){
          if(d&&d.url){AUTH_API=d.url;cb();}else{cb();}
        }).catch(function(){cb()});
      });
    });
  }

  function apiCall(method, path, body){
    var opts = {method:method, headers:{'Content-Type':'application/json'}};
    var token = localStorage.getItem('gamt_token');
    if(token) opts.headers['Authorization']='Bearer '+token;
    if(body) opts.body=JSON.stringify(body);
    return fetch(AUTH_API+path, opts).then(function(r){return r.json()});
  }

  // åˆ‡æ¢ç™»å½•/æ³¨å†Œ tab
  window.switchAuthTab = function(tab){
    var tabs = document.querySelectorAll('.login-box .tab');
    tabs[0].className = tab==='login'?'tab active':'tab';
    tabs[1].className = tab==='register'?'tab active':'tab';
    document.getElementById('loginForm').style.display = tab==='login'?'':'none';
    document.getElementById('registerForm').style.display = tab==='register'?'':'none';
    document.getElementById('authErr').textContent='';
  };

  window.doLogin = function(){
    var u=document.getElementById('loginUser').value;
    var p=document.getElementById('loginPass').value;
    if(!u||!p){document.getElementById('authErr').textContent='è¯·å¡«å†™ç”¨æˆ·åå’Œå¯†ç ';return;}
    document.getElementById('authErr').textContent='ç™»å½•ä¸­...';
    apiCall('POST','/api/auth/login',{username:u,password:p}).then(function(d){
      if(d.ok){
        localStorage.setItem('gamt_token',d.token);
        localStorage.setItem('gamt_user',JSON.stringify({username:d.username,display_name:d.display_name,is_admin:d.is_admin}));
        showApp(d);
      }else{
        document.getElementById('authErr').textContent=d.msg||'ç™»å½•å¤±è´¥';
      }
    }).catch(function(){
      document.getElementById('authErr').textContent='æœåŠ¡æœªè¿æ¥ï¼Œè¯·ç¡®è®¤çœ‹æ¿æœåŠ¡å·²å¯åŠ¨';
    });
  };

  window.doRegister = function(){
    var u=document.getElementById('regUser').value;
    var n=document.getElementById('regName').value;
    var p=document.getElementById('regPass').value;
    var p2=document.getElementById('regPass2').value;
    if(!u||!p){document.getElementById('authErr').textContent='è¯·å¡«å†™ç”¨æˆ·åå’Œå¯†ç ';return;}
    if(p!==p2){document.getElementById('authErr').textContent='ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´';return;}
    document.getElementById('authErr').textContent='æ³¨å†Œä¸­...';
    apiCall('POST','/api/auth/register',{username:u,password:p,display_name:n}).then(function(d){
      if(d.ok){
        document.getElementById('authErr').style.color='#10b981';
        document.getElementById('authErr').textContent='æ³¨å†ŒæˆåŠŸï¼æ­£åœ¨ç™»å½•...';
        // è‡ªåŠ¨ç™»å½•
        apiCall('POST','/api/auth/login',{username:u,password:p}).then(function(d2){
          if(d2.ok){
            localStorage.setItem('gamt_token',d2.token);
            localStorage.setItem('gamt_user',JSON.stringify({username:d2.username,display_name:d2.display_name,is_admin:d2.is_admin}));
            showApp(d2);
          }
        });
      }else{
        document.getElementById('authErr').style.color='#ef4444';
        document.getElementById('authErr').textContent=d.msg||'æ³¨å†Œå¤±è´¥';
      }
    }).catch(function(){
      document.getElementById('authErr').textContent='æœåŠ¡æœªè¿æ¥';
    });
  };

  // Enter é”®æäº¤
  document.addEventListener('keydown',function(e){
    if(e.key==='Enter'){
      var overlay=document.getElementById('loginOverlay');
      if(!overlay.classList.contains('hidden')){
        if(document.getElementById('loginForm').style.display!=='none') doLogin();
        else doRegister();
      }
    }
  });

  function showApp(user){
    currentUser=user;
    document.getElementById('loginOverlay').classList.add('hidden');
    // æ’å…¥ç”¨æˆ·æ åˆ° header
    var header=document.querySelector('.header .meta');
    if(header){
      var bar=document.createElement('div');
      bar.className='user-bar';
      bar.style.position='relative';bar.style.transform='none';
      var initial=(user.display_name||user.username||'U').charAt(0).toUpperCase();
      var adminBtn=user.is_admin?'<button class="admin-btn" onclick="location.href=\'admin.html\'">ç®¡ç†åå°</button>':'';
      bar.innerHTML='<div class="avatar">'+initial+'</div><span>'+(user.display_name||user.username)+'</span>'+adminBtn+'<button class="logout-btn" onclick="doLogout()">é€€å‡º</button>';
      header.appendChild(bar);
    }
    // ä¾§è¾¹æ åº•éƒ¨ï¼šæ˜¾ç¤ºç”¨æˆ·å + ç®¡ç†åå°å…¥å£
    var sideInfo=document.getElementById('sidebarUserInfo');
    if(sideInfo){
      var dn=user.display_name||user.username||'User';
      var role=user.is_admin?'ç®¡ç†å‘˜':'æˆå‘˜';
      sideInfo.innerHTML=dn+' Â· '+role+'<br><span style="opacity:.5;font-size:11px">v0.3 Â· 2026-02-13</span>';
    }
    // ç®¡ç†å‘˜ï¼šæ˜¾ç¤ºä¾§è¾¹æ ç®¡ç†åå°å¯¼èˆª
    if(user.is_admin){
      var ag=document.getElementById('adminNavGroup');
      if(ag) ag.style.display='';
    }
  }

  window.doLogout = function(){
    var token=localStorage.getItem('gamt_token');
    if(token && AUTH_API) apiCall('POST','/api/auth/logout');
    localStorage.removeItem('gamt_token');
    localStorage.removeItem('gamt_user');
    location.reload();
  };

  // å¯åŠ¨ï¼šæ£€æŸ¥æ˜¯å¦å·²ç™»å½•
  discoverAPI(function(){
    if(!AUTH_API){
      // APIä¸å¯ç”¨æ—¶ï¼Œä¹Ÿè¦æ±‚ç™»å½•ï¼Œæ˜¾ç¤ºæç¤º
      console.warn('[GAMT] API not reachable, login required but API unavailable');
      document.getElementById('loginOverlay').style.display='';
      return;
    }
    // æ£€æŸ¥å·²æœ‰ token
    var token=localStorage.getItem('gamt_token');
    if(token){
      apiCall('GET','/api/auth/me').then(function(d){
        if(d.username){
          showApp(d);
        }else{
          localStorage.removeItem('gamt_token');
          localStorage.removeItem('gamt_user');
        }
      }).catch(function(){
        localStorage.removeItem('gamt_token');
        localStorage.removeItem('gamt_user');
      });
    }
  });
})();
</script>
      